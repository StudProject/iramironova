<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Newton&#39;s cradle: i/Source.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="images.jfif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Newton&#39;s cradle
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Series of swinging spheres</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_39ee089867ec5a305d15d1b3ec16ae7f.html">i</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Source.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_source_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;tchar.h&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;Windowsx.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_model_8h.html">Model.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">static</span> TCHAR szWindowClass[] = _T(<span class="stringliteral">&quot;win32app&quot;</span>);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">static</span> TCHAR szTitle[] = _T(<span class="stringliteral">&quot;Mironova Irina group 5441&quot;</span>);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a44f41244c97693b2fbd5244bcb1e86ec">   15</a></span>&#160;HINSTANCE <a class="code" href="_source_8cpp.html#a44f41244c97693b2fbd5244bcb1e86ec">hInst</a>;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;LRESULT CALLBACK <a class="code" href="_source_8cpp.html#a9135ea2a0d6fce68ba3b858226a31a4f">WndProc</a>(HWND, UINT, WPARAM, LPARAM);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">   18</a></span>&#160;<span class="preprocessor">#define PI (double)3.1415</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="_source_8cpp.html#acfb35c4efbc593430638b09db17f2870">   19</a></span>&#160;<span class="preprocessor">#define IDC_BUTTON1 10001</span></div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a4aae7cdb86571102c3b4483889b88c6f">   20</a></span>&#160;<span class="preprocessor">#define IDC_EDIT2 10002</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="_source_8cpp.html#aab8e26a871c7d6001a506892afab2fe9">   21</a></span>&#160;<span class="preprocessor">#define IDC_EDIT3 10003</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="_source_8cpp.html#ab55c36acb8b720f0c14ee11beef21ca5">   22</a></span>&#160;<span class="preprocessor">#define IDC_EDIT4 10004</span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="_source_8cpp.html#ad123446cb35c803caf42a339fc842813">   23</a></span>&#160;<span class="preprocessor">#define IDC_EDIT1 10000</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">   24</a></span>&#160;<span class="preprocessor">#define SIZE 30</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a362077c979b0bb65159c603270e40f70">   25</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a362077c979b0bb65159c603270e40f70">f</a>, <a class="code" href="_source_8cpp.html#aa4c2a5552e9bc49b1816ff532f558c74">a</a>;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a8ba4569a925a71b233cc3e8b17b82477">   26</a></span>&#160;TCHAR <a class="code" href="_source_8cpp.html#a8ba4569a925a71b233cc3e8b17b82477">m1</a>[] = _T(<span class="stringliteral">&quot;Масса левого шара = &quot;</span>); <span class="comment">//Заголовки перед полями ввода </span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="_source_8cpp.html#afd7e823282038e21ca06fc9cda64c6cb">   27</a></span>&#160;TCHAR <a class="code" href="_source_8cpp.html#afd7e823282038e21ca06fc9cda64c6cb">m2</a>[] = _T(<span class="stringliteral">&quot;Масса правого шара = &quot;</span>);</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a5c7547a984b320d5b688780223cb12dd">   28</a></span>&#160;TCHAR <a class="code" href="_source_8cpp.html#a5c7547a984b320d5b688780223cb12dd">l1</a>[] = _T(<span class="stringliteral">&quot;Длина нитей = &quot;</span>);</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a45d80090df4752151d6f001edecb9ef8">   29</a></span>&#160;TCHAR <a class="code" href="_source_8cpp.html#a45d80090df4752151d6f001edecb9ef8">l2</a>[] = _T(<span class="stringliteral">&quot;Положение шара = &quot;</span>);</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a279c9524fbef380a1551f708f3618c51">   30</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="_source_8cpp.html#a279c9524fbef380a1551f708f3618c51">massa11</a>[100];<span class="comment">// масса левого шара</span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a2ae6dc2487a03c3a8dbbcbeefa5ea0b2">   31</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="_source_8cpp.html#a2ae6dc2487a03c3a8dbbcbeefa5ea0b2">massa22</a>[100];<span class="comment">// масса правого шара</span></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="_source_8cpp.html#aded308f4d62e6d6909c56c2fe517b743">   32</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="_source_8cpp.html#aded308f4d62e6d6909c56c2fe517b743">dlina11</a>[100];<span class="comment">// длина левого шара</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="_source_8cpp.html#aa38390772308d072ba19fc15998caaa1">   33</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="_source_8cpp.html#aa38390772308d072ba19fc15998caaa1">dlina22</a>[100];<span class="comment">// длина правого шара</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a8a5efd63cd926d42b6f7657da5b6a2cd">   34</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a8a5efd63cd926d42b6f7657da5b6a2cd">massa1</a>;<span class="comment">//промежуточная переменная массы левого</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a3469eb06585f3176bd1ea6edd1a3d9b5">   35</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a3469eb06585f3176bd1ea6edd1a3d9b5">massa2</a>;<span class="comment">//промежуточная переменная массы правого int dlina1;//промежуточная длина
int dlina2;//промежуточная длина
int gs = 0;
int gl = 0;
WCHAR n[30];



HWND hEdit1, hEdit2, hEdit3, hEdit4;//инициализация окна

/*! \brief Declaration structures
\code
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
\endcode
*/
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
/*! \brief Declaration functions
\code
void DoPhysics(ULONGLONG dT);
void StartGame();
\endcode
*/
void DoPhysics(ULONGLONG dT);
void StartGame();

/*! \brief WinMain function
\return msg.wParam
*/
int WINAPI WinMain(HINSTANCE hInstance,
    HINSTANCE hPrevInstance,
    LPSTR lpCmdLine,
    int nCmdShow)
{
    WNDCLASSEX wcex;

    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc = WndProc;
    wcex.cbClsExtra = 0;
    wcex.cbWndExtra = 0;
    wcex.hInstance = hInstance;
    wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APPLICATION));
    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);
    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);
    wcex.lpszMenuName = NULL;
    wcex.lpszClassName = szWindowClass;
    wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_APPLICATION));

    if (!RegisterClassEx(&amp;wcex))
    {
        MessageBox(NULL,
            _T(&quot;Call to RegisterClassEx failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }

    hInst = hInstance;

    /*!  \brief Window creation 
    \code
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );
    \endcode
    */
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );

    if (!hWnd)
    {
        MessageBox(NULL,
            _T(&quot;Call to CreateWindow failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }
    /*! \brief Windows creation for typing
    \code
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
        \endcode */
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
    hEdit2 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        160, 20, 40, 20, hWnd, (HMENU)IDC_EDIT2, hInstance, NULL);
    hEdit3 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        115, 40, 40, 20, hWnd, (HMENU)IDC_EDIT3, hInstance, NULL);
    hEdit4 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        135, 60, 40, 20, hWnd, (HMENU)IDC_EDIT4, hInstance, NULL);
    CreateWindowEx(0, _T(&quot;button&quot;), _T(&quot;START&quot;), WS_CHILD | WS_VISIBLE,
        35, 110, 80, 25, hWnd, (HMENU)IDC_BUTTON1, hInstance, NULL);
    /*!  \brief The parameters to ShowWindow explained:
    hWnd: the value returned from CreateWindow
    nCmdShow: the fourth parameter from WinMain
        \code
        ShowWindow(hWnd,
        nCmdShow);
        UpdateWindow(hWnd);
    \endcode
    */
    ShowWindow(hWnd,
        nCmdShow);
    UpdateWindow(hWnd);

    MSG msg;
    ULONGLONG prevTime = -1, curTime, dT;

    // Enter the infinite message loop
    while (TRUE)
    {
        // Check to see if any messages are waiting in the queue
        while (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))
        {
            // Translate the message and dispatch it to WindowProc()
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }

        // If the message is WM_QUIT, exit the while loop
        if (msg.message == WM_QUIT)
            break;
        //расчёт времени
      curTime = GetTickCount64();
        if (prevTime == -1)
            dT = 0;
        else dT = curTime - prevTime;
        prevTime = curTime;
        DoPhysics(dT);
        InvalidateRect(hWnd, NULL, 1);
    }

    return (int)msg.wParam;
}
/*! \brief Function StartGame
\detail  Declaration of vars */
void StartGame()

{
    orb.y = ball.y = balls.y = balls.Y = line.o;
    ball.x = line.p;
    ball.X = ball.x;
    ball.Y = ball.y;
    ball.isSelected = false;
    ball.vx = 0;
    ball.vy = 0;
    balls.X = ball.x + 2 * SIZE;
    line.Nx = balls.X;
    line.Ny = 0;

    balls.x = balls.X + 2 * SIZE;
    line.nx = balls.x;
    line.ny = 0;

    orb.x = balls.x + 2 * SIZE;
    orb.X = orb.x;
    orb.Y = orb.y;
    orb.isSelected = false;
    orb.vx = 0;
    orb.vy = 0;

    line.xj = ball.x;
    line.yj = 0;
    line.r = sqrt((ball.X - line.xj)*(ball.X - line.xj) + (ball.Y - line.yj)*(ball.Y - line.yj));

    line.Xj = orb.x;
    line.Yj = 0;
    line.R = sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + (orb.Y - line.Yj)*(orb.Y - line.Yj));

}
/*! \brief Function DoPhysics
\detail
The physical description of the work processes of the pendulum */
void DoPhysics(ULONGLONG dT)
{
    /*! \brief Start work */
    if (f == 1)
    {
        double dx = balls.X - ball.X;
        double dy = balls.Y - ball.Y;
        double DX = orb.X - balls.x;
        double DY = orb.Y - balls.y;

        /*!
        
        If the ball touches the adjacent,the opposite ball begins to move . 
        \code
        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
        if (line.E != 0)
        {
        line.angle1 = line.grad1;
        line.angle = line.angle1;
        line.e = line.E;
        line.E = 0;
        }
        }
        \endcode
        if the leftmost ball touches the adjacent ball and if the energy is not zero,the angle of the leftmost ball passed right fielder bowl and energy leftmost ball passed right fielder bowl
         */

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
            if (line.E != 0)
            {
                line.angle1 = line.grad1;
                line.angle = line.angle1;
                line.e = line.E;
                line.E = 0;
            }
        }
        /*! The same for rightmost ball */

        if (sqrt(DX*DX + DY*DY) &lt;= SIZE * 2)
        {
            if (line.e != 0)
            {

                line.grad1 = line.angle1;
                line.grad = line.grad1;
                line.E = line.e;
                line.e = 0;
            }
        }
        /*! Leftmost ball \code
        ball.a = -G*ball.m / line.r * sin(line.grad); - acceleration
        ball.vx += ball.a * ((double)dT / 100);- speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100); - the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));- energy calculation
        if ((line.Ep) &gt; line.E)- comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);-  angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);- Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);- X movement
        \endcode */
        ball.a = -G*ball.m / line.r * sin(line.grad);//acceleration
        ball.vx += ball.a * ((double)dT / 100);//speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100);//the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));//energy calculation
        if ((line.Ep) &gt; line.E)//comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);// angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);//Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);// X movement

     /*! The same for Rightmost ball */
        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.vx += orb.a * ((double)dT / 100);
        line.angle += (orb.vx + ((double)dT / 100) * orb.a / 2)*((double)dT / 100);
        line.ep = line.R *G*orb.m* (1 - cos(line.angle));
        if ((line.ep) &gt; line.e)
        {
            line.angle = (line.angle &lt; 0 ? (-1)*line.angle : line.angle) * acos(1 - line.e / line.R / G);
            orb.vx = 0;
        }

        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.Y = line.R*sin(PI / 2 - line.angle);
        orb.X = line.Xj + line.R*cos(PI / 2 - line.angle);

    }
}

LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    PAINTSTRUCT ps;
    HDC hdc;
    int savedDC;
    HDC backbuffDC;
    int width, height;
    HBITMAP backbuffer;
    HBRUSH hBrush;
    double xPos, yPos;
    double XPos, YPos;
    double dx, dy;
    double DX, DY;
    HPEN hPen, hOldPen;


    switch (message)
    {
        {
    case WM_COMMAND:
        switch (LOWORD(wParam))
        {
            /*! \brief after pushing &quot;Start&quot;
            \detail Reading and recording user input variables*/

        case IDC_BUTTON1:
            switch (HIWORD(wParam))
            {
            case BN_CLICKED:
                GetWindowTextA(hEdit1, massa11, 99);
                GetWindowTextA(hEdit2, massa22, 99);
                GetWindowTextA(hEdit3, dlina11, 99);
                GetWindowTextA(hEdit4, dlina22, 99);
                sscanf(massa11, &quot;%d&quot;, &amp;massa1);
                ball.m = massa1;
                sscanf(massa22, &quot;%d&quot;, &amp;massa2);
                orb.m = massa2;
                sscanf(dlina11, &quot;%d&quot;, &amp;dlina1);
                line.o = dlina1;
                sscanf(dlina22, &quot;%d&quot;, &amp;dlina2);
                line.p = dlina2;
                StartGame();
                break;
            }
            break;
        }
        break;
        /*! Mouse LeftButton:mouse position determination
        \code
            xPos = GET_X_LPARAM(lParam);
            \endcode
            */
    case WM_LBUTTONDOWN:
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        XPos = GET_X_LPARAM(lParam);
        YPos = GET_Y_LPARAM(lParam);

        dx = xPos - ball.X;
        dy = yPos - ball.Y;
        DX = XPos - orb.X;
        DY = YPos - orb.Y;

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE)
        {
            ball.isSelected = true;

        }
        if (sqrt(DX*DX + DY*DY) &lt;= SIZE)
        {

            orb.isSelected = true;
        }
        break;
        /*! Mouse RightButton:start working pendulum*/

    case WM_RBUTTONDOWN:
        f = 1;
        break;

        InvalidateRect(hWnd, NULL, 1);

        /*! \brief Calculation of the position coordinates provided unchanging length of the thread to the left of the ball
        \code
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        double x = ball.x - line.xj;
        double X = ball.X - line.xj;
        line.mx = xPos - line.xj;
        line.my = yPos - line.yj;
        line.m = sqrt(line.mx*line.mx + line.my*line.my);
        ball.X = line.xj + (line.mx*line.r) / line.m;
        ball.Y = (line.my*line.r) / line.m;
        \endcode
        */
    case WM_MOUSEMOVE:
        if (ball.isSelected)
        {

            xPos = GET_X_LPARAM(lParam);
            yPos = GET_Y_LPARAM(lParam);
            double x = ball.x - line.xj;
            double X = ball.X - line.xj;
            line.mx = xPos - line.xj;
            line.my = yPos - line.yj;
            line.m = sqrt(line.mx*line.mx + line.my*line.my);
            ball.X = line.xj + (line.mx*line.r) / line.m;
            ball.Y = (line.my*line.r) / line.m;


        }
        if (orb.isSelected)
        {
            XPos = GET_X_LPARAM(lParam);
            YPos = GET_Y_LPARAM(lParam);
            line.Mx = XPos - line.Xj;
            line.My = YPos - line.Yj;
            line.M = sqrt(line.Mx*line.Mx + line.My*line.My);
            orb.X = line.Xj + (line.Mx*line.R) / line.M;
            orb.Y = (line.My*line.R) / line.M;
        }

        break;
        /*! \brief Calculate the deflection angle and the initial energy to the left and right balls
        \code
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));
        \endcode
        */
    case WM_LBUTTONUP:
        ball.isSelected = false;
        orb.isSelected = false;
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));

        orb.cosA = ((orb.x - line.Xj)*(orb.X - line.Xj) + orb.y*orb.Y) / ((sqrt((orb.x - line.Xj)*(orb.x - line.Xj) + orb.y*orb.y))*(sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + orb.Y*orb.Y)));
        line.angle = acos(orb.cosA);
        line.angle1 = acos(orb.cosA);
        line.e = line.R * G *orb.m* (1 - cos(line.angle));

        break;
        InvalidateRect(hWnd, NULL, 1);
        break;
        /*! \brief Painting
        \detailed Double buffering
        \code
            case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);
        \endcode
        */

    case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);

        RECT rect;
        GetClientRect(hWnd, &amp;rect);
        width = rect.right;
        height = rect.bottom;
        backbuffDC = CreateCompatibleDC(hdc);

        backbuffer = CreateCompatibleBitmap(hdc, width, height);

        savedDC = SaveDC(backbuffDC);

        SelectObject(backbuffDC, backbuffer);

        /*! Painting of Window 
        \code
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);
        \endcode
        */
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);

        /*! Creating pen
        \code
            hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        \endcode
        */
        hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);

        /*! Painting  threads
        \code
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        \endcode
        */
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        MoveToEx(backbuffDC, line.Nx, line.Ny, NULL);
        LineTo(backbuffDC, balls.X, balls.Y);
        MoveToEx(backbuffDC, line.nx, line.ny, NULL);
        LineTo(backbuffDC, balls.x, balls.y);
        MoveToEx(backbuffDC, line.Xj, line.Yj, NULL);
        LineTo(backbuffDC, orb.X, orb.Y);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);
        hBrush = CreateSolidBrush(RGB(159, 156, 148));
        SelectObject(backbuffDC, hBrush);
        /*!If one of the selected ball - paint its outline in red
        \code
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        \endcode
        */
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        else
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(0, 0, 0));
        }

        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        /*! Painting  balls
        \code
                Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);

                \endcode
                */
        Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);
        Ellipse(backbuffDC, orb.X - SIZE, orb.Y - SIZE, orb.X + SIZE, orb.Y + SIZE);
        Ellipse(backbuffDC, balls.X - SIZE, balls.Y - SIZE, balls.X + SIZE, balls.Y + SIZE);
        Ellipse(backbuffDC, balls.x - SIZE, balls.y - SIZE, balls.x + SIZE, balls.y + SIZE);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);

        /*! Writing text
        \code
            wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        \endcode
        */
        WCHAR s[300];
        wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), m2);
        TextOut(backbuffDC, 0, 20, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l1);
        TextOut(backbuffDC, 0, 40, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l2);
        TextOut(backbuffDC, 0, 60, s, wcslen(s));
        BitBlt(hdc, 0, 0, width, height, backbuffDC, 0, 0, SRCCOPY);
        RestoreDC(backbuffDC, savedDC);
        DeleteObject(backbuffer);
        DeleteDC(backbuffDC);

        EndPaint(hWnd, &amp;ps);
        break;
        /*! Delete window
        \code
        case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
        \endcode*/
    case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
        break;
        return 0;
        }
    }
}
</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a346ee155a202f3ce33386fb21ca17aa3">   36</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a346ee155a202f3ce33386fb21ca17aa3">dlina1</a>;<span class="comment">//промежуточная длина int dlina2;//промежуточная длина
int gs = 0;
int gl = 0;
WCHAR n[30];



HWND hEdit1, hEdit2, hEdit3, hEdit4;//инициализация окна

/*! \brief Declaration structures
\code
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
\endcode
*/
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
/*! \brief Declaration functions
\code
void DoPhysics(ULONGLONG dT);
void StartGame();
\endcode
*/
void DoPhysics(ULONGLONG dT);
void StartGame();

/*! \brief WinMain function
\return msg.wParam
*/
int WINAPI WinMain(HINSTANCE hInstance,
    HINSTANCE hPrevInstance,
    LPSTR lpCmdLine,
    int nCmdShow)
{
    WNDCLASSEX wcex;

    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc = WndProc;
    wcex.cbClsExtra = 0;
    wcex.cbWndExtra = 0;
    wcex.hInstance = hInstance;
    wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APPLICATION));
    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);
    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);
    wcex.lpszMenuName = NULL;
    wcex.lpszClassName = szWindowClass;
    wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_APPLICATION));

    if (!RegisterClassEx(&amp;wcex))
    {
        MessageBox(NULL,
            _T(&quot;Call to RegisterClassEx failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }

    hInst = hInstance;

    /*!  \brief Window creation 
    \code
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );
    \endcode
    */
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );

    if (!hWnd)
    {
        MessageBox(NULL,
            _T(&quot;Call to CreateWindow failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }
    /*! \brief Windows creation for typing
    \code
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
        \endcode */
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
    hEdit2 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        160, 20, 40, 20, hWnd, (HMENU)IDC_EDIT2, hInstance, NULL);
    hEdit3 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        115, 40, 40, 20, hWnd, (HMENU)IDC_EDIT3, hInstance, NULL);
    hEdit4 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        135, 60, 40, 20, hWnd, (HMENU)IDC_EDIT4, hInstance, NULL);
    CreateWindowEx(0, _T(&quot;button&quot;), _T(&quot;START&quot;), WS_CHILD | WS_VISIBLE,
        35, 110, 80, 25, hWnd, (HMENU)IDC_BUTTON1, hInstance, NULL);
    /*!  \brief The parameters to ShowWindow explained:
    hWnd: the value returned from CreateWindow
    nCmdShow: the fourth parameter from WinMain
        \code
        ShowWindow(hWnd,
        nCmdShow);
        UpdateWindow(hWnd);
    \endcode
    */
    ShowWindow(hWnd,
        nCmdShow);
    UpdateWindow(hWnd);

    MSG msg;
    ULONGLONG prevTime = -1, curTime, dT;

    // Enter the infinite message loop
    while (TRUE)
    {
        // Check to see if any messages are waiting in the queue
        while (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))
        {
            // Translate the message and dispatch it to WindowProc()
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }

        // If the message is WM_QUIT, exit the while loop
        if (msg.message == WM_QUIT)
            break;
        //расчёт времени
      curTime = GetTickCount64();
        if (prevTime == -1)
            dT = 0;
        else dT = curTime - prevTime;
        prevTime = curTime;
        DoPhysics(dT);
        InvalidateRect(hWnd, NULL, 1);
    }

    return (int)msg.wParam;
}
/*! \brief Function StartGame
\detail  Declaration of vars */
void StartGame()

{
    orb.y = ball.y = balls.y = balls.Y = line.o;
    ball.x = line.p;
    ball.X = ball.x;
    ball.Y = ball.y;
    ball.isSelected = false;
    ball.vx = 0;
    ball.vy = 0;
    balls.X = ball.x + 2 * SIZE;
    line.Nx = balls.X;
    line.Ny = 0;

    balls.x = balls.X + 2 * SIZE;
    line.nx = balls.x;
    line.ny = 0;

    orb.x = balls.x + 2 * SIZE;
    orb.X = orb.x;
    orb.Y = orb.y;
    orb.isSelected = false;
    orb.vx = 0;
    orb.vy = 0;

    line.xj = ball.x;
    line.yj = 0;
    line.r = sqrt((ball.X - line.xj)*(ball.X - line.xj) + (ball.Y - line.yj)*(ball.Y - line.yj));

    line.Xj = orb.x;
    line.Yj = 0;
    line.R = sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + (orb.Y - line.Yj)*(orb.Y - line.Yj));

}
/*! \brief Function DoPhysics
\detail
The physical description of the work processes of the pendulum */
void DoPhysics(ULONGLONG dT)
{
    /*! \brief Start work */
    if (f == 1)
    {
        double dx = balls.X - ball.X;
        double dy = balls.Y - ball.Y;
        double DX = orb.X - balls.x;
        double DY = orb.Y - balls.y;

        /*!
        
        If the ball touches the adjacent,the opposite ball begins to move . 
        \code
        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
        if (line.E != 0)
        {
        line.angle1 = line.grad1;
        line.angle = line.angle1;
        line.e = line.E;
        line.E = 0;
        }
        }
        \endcode
        if the leftmost ball touches the adjacent ball and if the energy is not zero,the angle of the leftmost ball passed right fielder bowl and energy leftmost ball passed right fielder bowl
         */

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
            if (line.E != 0)
            {
                line.angle1 = line.grad1;
                line.angle = line.angle1;
                line.e = line.E;
                line.E = 0;
            }
        }
        /*! The same for rightmost ball */

        if (sqrt(DX*DX + DY*DY) &lt;= SIZE * 2)
        {
            if (line.e != 0)
            {

                line.grad1 = line.angle1;
                line.grad = line.grad1;
                line.E = line.e;
                line.e = 0;
            }
        }
        /*! Leftmost ball \code
        ball.a = -G*ball.m / line.r * sin(line.grad); - acceleration
        ball.vx += ball.a * ((double)dT / 100);- speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100); - the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));- energy calculation
        if ((line.Ep) &gt; line.E)- comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);-  angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);- Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);- X movement
        \endcode */
        ball.a = -G*ball.m / line.r * sin(line.grad);//acceleration
        ball.vx += ball.a * ((double)dT / 100);//speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100);//the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));//energy calculation
        if ((line.Ep) &gt; line.E)//comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);// angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);//Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);// X movement

     /*! The same for Rightmost ball */
        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.vx += orb.a * ((double)dT / 100);
        line.angle += (orb.vx + ((double)dT / 100) * orb.a / 2)*((double)dT / 100);
        line.ep = line.R *G*orb.m* (1 - cos(line.angle));
        if ((line.ep) &gt; line.e)
        {
            line.angle = (line.angle &lt; 0 ? (-1)*line.angle : line.angle) * acos(1 - line.e / line.R / G);
            orb.vx = 0;
        }

        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.Y = line.R*sin(PI / 2 - line.angle);
        orb.X = line.Xj + line.R*cos(PI / 2 - line.angle);

    }
}

LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    PAINTSTRUCT ps;
    HDC hdc;
    int savedDC;
    HDC backbuffDC;
    int width, height;
    HBITMAP backbuffer;
    HBRUSH hBrush;
    double xPos, yPos;
    double XPos, YPos;
    double dx, dy;
    double DX, DY;
    HPEN hPen, hOldPen;


    switch (message)
    {
        {
    case WM_COMMAND:
        switch (LOWORD(wParam))
        {
            /*! \brief after pushing &quot;Start&quot;
            \detail Reading and recording user input variables*/

        case IDC_BUTTON1:
            switch (HIWORD(wParam))
            {
            case BN_CLICKED:
                GetWindowTextA(hEdit1, massa11, 99);
                GetWindowTextA(hEdit2, massa22, 99);
                GetWindowTextA(hEdit3, dlina11, 99);
                GetWindowTextA(hEdit4, dlina22, 99);
                sscanf(massa11, &quot;%d&quot;, &amp;massa1);
                ball.m = massa1;
                sscanf(massa22, &quot;%d&quot;, &amp;massa2);
                orb.m = massa2;
                sscanf(dlina11, &quot;%d&quot;, &amp;dlina1);
                line.o = dlina1;
                sscanf(dlina22, &quot;%d&quot;, &amp;dlina2);
                line.p = dlina2;
                StartGame();
                break;
            }
            break;
        }
        break;
        /*! Mouse LeftButton:mouse position determination
        \code
            xPos = GET_X_LPARAM(lParam);
            \endcode
            */
    case WM_LBUTTONDOWN:
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        XPos = GET_X_LPARAM(lParam);
        YPos = GET_Y_LPARAM(lParam);

        dx = xPos - ball.X;
        dy = yPos - ball.Y;
        DX = XPos - orb.X;
        DY = YPos - orb.Y;

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE)
        {
            ball.isSelected = true;

        }
        if (sqrt(DX*DX + DY*DY) &lt;= SIZE)
        {

            orb.isSelected = true;
        }
        break;
        /*! Mouse RightButton:start working pendulum*/

    case WM_RBUTTONDOWN:
        f = 1;
        break;

        InvalidateRect(hWnd, NULL, 1);

        /*! \brief Calculation of the position coordinates provided unchanging length of the thread to the left of the ball
        \code
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        double x = ball.x - line.xj;
        double X = ball.X - line.xj;
        line.mx = xPos - line.xj;
        line.my = yPos - line.yj;
        line.m = sqrt(line.mx*line.mx + line.my*line.my);
        ball.X = line.xj + (line.mx*line.r) / line.m;
        ball.Y = (line.my*line.r) / line.m;
        \endcode
        */
    case WM_MOUSEMOVE:
        if (ball.isSelected)
        {

            xPos = GET_X_LPARAM(lParam);
            yPos = GET_Y_LPARAM(lParam);
            double x = ball.x - line.xj;
            double X = ball.X - line.xj;
            line.mx = xPos - line.xj;
            line.my = yPos - line.yj;
            line.m = sqrt(line.mx*line.mx + line.my*line.my);
            ball.X = line.xj + (line.mx*line.r) / line.m;
            ball.Y = (line.my*line.r) / line.m;


        }
        if (orb.isSelected)
        {
            XPos = GET_X_LPARAM(lParam);
            YPos = GET_Y_LPARAM(lParam);
            line.Mx = XPos - line.Xj;
            line.My = YPos - line.Yj;
            line.M = sqrt(line.Mx*line.Mx + line.My*line.My);
            orb.X = line.Xj + (line.Mx*line.R) / line.M;
            orb.Y = (line.My*line.R) / line.M;
        }

        break;
        /*! \brief Calculate the deflection angle and the initial energy to the left and right balls
        \code
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));
        \endcode
        */
    case WM_LBUTTONUP:
        ball.isSelected = false;
        orb.isSelected = false;
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));

        orb.cosA = ((orb.x - line.Xj)*(orb.X - line.Xj) + orb.y*orb.Y) / ((sqrt((orb.x - line.Xj)*(orb.x - line.Xj) + orb.y*orb.y))*(sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + orb.Y*orb.Y)));
        line.angle = acos(orb.cosA);
        line.angle1 = acos(orb.cosA);
        line.e = line.R * G *orb.m* (1 - cos(line.angle));

        break;
        InvalidateRect(hWnd, NULL, 1);
        break;
        /*! \brief Painting
        \detailed Double buffering
        \code
            case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);
        \endcode
        */

    case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);

        RECT rect;
        GetClientRect(hWnd, &amp;rect);
        width = rect.right;
        height = rect.bottom;
        backbuffDC = CreateCompatibleDC(hdc);

        backbuffer = CreateCompatibleBitmap(hdc, width, height);

        savedDC = SaveDC(backbuffDC);

        SelectObject(backbuffDC, backbuffer);

        /*! Painting of Window 
        \code
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);
        \endcode
        */
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);

        /*! Creating pen
        \code
            hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        \endcode
        */
        hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);

        /*! Painting  threads
        \code
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        \endcode
        */
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        MoveToEx(backbuffDC, line.Nx, line.Ny, NULL);
        LineTo(backbuffDC, balls.X, balls.Y);
        MoveToEx(backbuffDC, line.nx, line.ny, NULL);
        LineTo(backbuffDC, balls.x, balls.y);
        MoveToEx(backbuffDC, line.Xj, line.Yj, NULL);
        LineTo(backbuffDC, orb.X, orb.Y);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);
        hBrush = CreateSolidBrush(RGB(159, 156, 148));
        SelectObject(backbuffDC, hBrush);
        /*!If one of the selected ball - paint its outline in red
        \code
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        \endcode
        */
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        else
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(0, 0, 0));
        }

        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        /*! Painting  balls
        \code
                Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);

                \endcode
                */
        Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);
        Ellipse(backbuffDC, orb.X - SIZE, orb.Y - SIZE, orb.X + SIZE, orb.Y + SIZE);
        Ellipse(backbuffDC, balls.X - SIZE, balls.Y - SIZE, balls.X + SIZE, balls.Y + SIZE);
        Ellipse(backbuffDC, balls.x - SIZE, balls.y - SIZE, balls.x + SIZE, balls.y + SIZE);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);

        /*! Writing text
        \code
            wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        \endcode
        */
        WCHAR s[300];
        wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), m2);
        TextOut(backbuffDC, 0, 20, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l1);
        TextOut(backbuffDC, 0, 40, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l2);
        TextOut(backbuffDC, 0, 60, s, wcslen(s));
        BitBlt(hdc, 0, 0, width, height, backbuffDC, 0, 0, SRCCOPY);
        RestoreDC(backbuffDC, savedDC);
        DeleteObject(backbuffer);
        DeleteDC(backbuffDC);

        EndPaint(hWnd, &amp;ps);
        break;
        /*! Delete window
        \code
        case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
        \endcode*/
    case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
        break;
        return 0;
        }
    }
}
</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="_source_8cpp.html#ab8c23db2fceca122e94359bebe25d9ac">   37</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#ab8c23db2fceca122e94359bebe25d9ac">dlina2</a>;<span class="comment">//промежуточная длина int gs = 0;
int gl = 0;
WCHAR n[30];



HWND hEdit1, hEdit2, hEdit3, hEdit4;//инициализация окна

/*! \brief Declaration structures
\code
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
\endcode
*/
TBall ball;
TOrb orb;
TLine line;
TBalls balls;
/*! \brief Declaration functions
\code
void DoPhysics(ULONGLONG dT);
void StartGame();
\endcode
*/
void DoPhysics(ULONGLONG dT);
void StartGame();

/*! \brief WinMain function
\return msg.wParam
*/
int WINAPI WinMain(HINSTANCE hInstance,
    HINSTANCE hPrevInstance,
    LPSTR lpCmdLine,
    int nCmdShow)
{
    WNDCLASSEX wcex;

    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc = WndProc;
    wcex.cbClsExtra = 0;
    wcex.cbWndExtra = 0;
    wcex.hInstance = hInstance;
    wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APPLICATION));
    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);
    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);
    wcex.lpszMenuName = NULL;
    wcex.lpszClassName = szWindowClass;
    wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_APPLICATION));

    if (!RegisterClassEx(&amp;wcex))
    {
        MessageBox(NULL,
            _T(&quot;Call to RegisterClassEx failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }

    hInst = hInstance;

    /*!  \brief Window creation 
    \code
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );
    \endcode
    */
    HWND hWnd = CreateWindow(
        szWindowClass,
        szTitle,
        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,
        CW_USEDEFAULT, CW_USEDEFAULT,
        800, 600,
        NULL,
        NULL,
        hInstance,
        NULL
    );

    if (!hWnd)
    {
        MessageBox(NULL,
            _T(&quot;Call to CreateWindow failed!&quot;),
            _T(&quot;Win32 Guided Tour&quot;),
            NULL);

        return 1;
    }
    /*! \brief Windows creation for typing
    \code
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
        \endcode */
    hEdit1 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        150, 0, 40, 20, hWnd, (HMENU)IDC_EDIT1, hInstance, NULL);
    hEdit2 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        160, 20, 40, 20, hWnd, (HMENU)IDC_EDIT2, hInstance, NULL);
    hEdit3 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        115, 40, 40, 20, hWnd, (HMENU)IDC_EDIT3, hInstance, NULL);
    hEdit4 = CreateWindowEx(WS_EX_CLIENTEDGE, _T(&quot;edit&quot;), _T(&quot; &quot;), WS_CHILD | WS_VISIBLE,
        135, 60, 40, 20, hWnd, (HMENU)IDC_EDIT4, hInstance, NULL);
    CreateWindowEx(0, _T(&quot;button&quot;), _T(&quot;START&quot;), WS_CHILD | WS_VISIBLE,
        35, 110, 80, 25, hWnd, (HMENU)IDC_BUTTON1, hInstance, NULL);
    /*!  \brief The parameters to ShowWindow explained:
    hWnd: the value returned from CreateWindow
    nCmdShow: the fourth parameter from WinMain
        \code
        ShowWindow(hWnd,
        nCmdShow);
        UpdateWindow(hWnd);
    \endcode
    */
    ShowWindow(hWnd,
        nCmdShow);
    UpdateWindow(hWnd);

    MSG msg;
    ULONGLONG prevTime = -1, curTime, dT;

    // Enter the infinite message loop
    while (TRUE)
    {
        // Check to see if any messages are waiting in the queue
        while (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))
        {
            // Translate the message and dispatch it to WindowProc()
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }

        // If the message is WM_QUIT, exit the while loop
        if (msg.message == WM_QUIT)
            break;
        //расчёт времени
      curTime = GetTickCount64();
        if (prevTime == -1)
            dT = 0;
        else dT = curTime - prevTime;
        prevTime = curTime;
        DoPhysics(dT);
        InvalidateRect(hWnd, NULL, 1);
    }

    return (int)msg.wParam;
}
/*! \brief Function StartGame
\detail  Declaration of vars */
void StartGame()

{
    orb.y = ball.y = balls.y = balls.Y = line.o;
    ball.x = line.p;
    ball.X = ball.x;
    ball.Y = ball.y;
    ball.isSelected = false;
    ball.vx = 0;
    ball.vy = 0;
    balls.X = ball.x + 2 * SIZE;
    line.Nx = balls.X;
    line.Ny = 0;

    balls.x = balls.X + 2 * SIZE;
    line.nx = balls.x;
    line.ny = 0;

    orb.x = balls.x + 2 * SIZE;
    orb.X = orb.x;
    orb.Y = orb.y;
    orb.isSelected = false;
    orb.vx = 0;
    orb.vy = 0;

    line.xj = ball.x;
    line.yj = 0;
    line.r = sqrt((ball.X - line.xj)*(ball.X - line.xj) + (ball.Y - line.yj)*(ball.Y - line.yj));

    line.Xj = orb.x;
    line.Yj = 0;
    line.R = sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + (orb.Y - line.Yj)*(orb.Y - line.Yj));

}
/*! \brief Function DoPhysics
\detail
The physical description of the work processes of the pendulum */
void DoPhysics(ULONGLONG dT)
{
    /*! \brief Start work */
    if (f == 1)
    {
        double dx = balls.X - ball.X;
        double dy = balls.Y - ball.Y;
        double DX = orb.X - balls.x;
        double DY = orb.Y - balls.y;

        /*!
        
        If the ball touches the adjacent,the opposite ball begins to move . 
        \code
        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
        if (line.E != 0)
        {
        line.angle1 = line.grad1;
        line.angle = line.angle1;
        line.e = line.E;
        line.E = 0;
        }
        }
        \endcode
        if the leftmost ball touches the adjacent ball and if the energy is not zero,the angle of the leftmost ball passed right fielder bowl and energy leftmost ball passed right fielder bowl
         */

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
            if (line.E != 0)
            {
                line.angle1 = line.grad1;
                line.angle = line.angle1;
                line.e = line.E;
                line.E = 0;
            }
        }
        /*! The same for rightmost ball */

        if (sqrt(DX*DX + DY*DY) &lt;= SIZE * 2)
        {
            if (line.e != 0)
            {

                line.grad1 = line.angle1;
                line.grad = line.grad1;
                line.E = line.e;
                line.e = 0;
            }
        }
        /*! Leftmost ball \code
        ball.a = -G*ball.m / line.r * sin(line.grad); - acceleration
        ball.vx += ball.a * ((double)dT / 100);- speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100); - the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));- energy calculation
        if ((line.Ep) &gt; line.E)- comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);-  angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);- Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);- X movement
        \endcode */
        ball.a = -G*ball.m / line.r * sin(line.grad);//acceleration
        ball.vx += ball.a * ((double)dT / 100);//speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100);//the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));//energy calculation
        if ((line.Ep) &gt; line.E)//comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);// angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);//Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);// X movement

     /*! The same for Rightmost ball */
        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.vx += orb.a * ((double)dT / 100);
        line.angle += (orb.vx + ((double)dT / 100) * orb.a / 2)*((double)dT / 100);
        line.ep = line.R *G*orb.m* (1 - cos(line.angle));
        if ((line.ep) &gt; line.e)
        {
            line.angle = (line.angle &lt; 0 ? (-1)*line.angle : line.angle) * acos(1 - line.e / line.R / G);
            orb.vx = 0;
        }

        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.Y = line.R*sin(PI / 2 - line.angle);
        orb.X = line.Xj + line.R*cos(PI / 2 - line.angle);

    }
}

LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    PAINTSTRUCT ps;
    HDC hdc;
    int savedDC;
    HDC backbuffDC;
    int width, height;
    HBITMAP backbuffer;
    HBRUSH hBrush;
    double xPos, yPos;
    double XPos, YPos;
    double dx, dy;
    double DX, DY;
    HPEN hPen, hOldPen;


    switch (message)
    {
        {
    case WM_COMMAND:
        switch (LOWORD(wParam))
        {
            /*! \brief after pushing &quot;Start&quot;
            \detail Reading and recording user input variables*/

        case IDC_BUTTON1:
            switch (HIWORD(wParam))
            {
            case BN_CLICKED:
                GetWindowTextA(hEdit1, massa11, 99);
                GetWindowTextA(hEdit2, massa22, 99);
                GetWindowTextA(hEdit3, dlina11, 99);
                GetWindowTextA(hEdit4, dlina22, 99);
                sscanf(massa11, &quot;%d&quot;, &amp;massa1);
                ball.m = massa1;
                sscanf(massa22, &quot;%d&quot;, &amp;massa2);
                orb.m = massa2;
                sscanf(dlina11, &quot;%d&quot;, &amp;dlina1);
                line.o = dlina1;
                sscanf(dlina22, &quot;%d&quot;, &amp;dlina2);
                line.p = dlina2;
                StartGame();
                break;
            }
            break;
        }
        break;
        /*! Mouse LeftButton:mouse position determination
        \code
            xPos = GET_X_LPARAM(lParam);
            \endcode
            */
    case WM_LBUTTONDOWN:
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        XPos = GET_X_LPARAM(lParam);
        YPos = GET_Y_LPARAM(lParam);

        dx = xPos - ball.X;
        dy = yPos - ball.Y;
        DX = XPos - orb.X;
        DY = YPos - orb.Y;

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE)
        {
            ball.isSelected = true;

        }
        if (sqrt(DX*DX + DY*DY) &lt;= SIZE)
        {

            orb.isSelected = true;
        }
        break;
        /*! Mouse RightButton:start working pendulum*/

    case WM_RBUTTONDOWN:
        f = 1;
        break;

        InvalidateRect(hWnd, NULL, 1);

        /*! \brief Calculation of the position coordinates provided unchanging length of the thread to the left of the ball
        \code
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        double x = ball.x - line.xj;
        double X = ball.X - line.xj;
        line.mx = xPos - line.xj;
        line.my = yPos - line.yj;
        line.m = sqrt(line.mx*line.mx + line.my*line.my);
        ball.X = line.xj + (line.mx*line.r) / line.m;
        ball.Y = (line.my*line.r) / line.m;
        \endcode
        */
    case WM_MOUSEMOVE:
        if (ball.isSelected)
        {

            xPos = GET_X_LPARAM(lParam);
            yPos = GET_Y_LPARAM(lParam);
            double x = ball.x - line.xj;
            double X = ball.X - line.xj;
            line.mx = xPos - line.xj;
            line.my = yPos - line.yj;
            line.m = sqrt(line.mx*line.mx + line.my*line.my);
            ball.X = line.xj + (line.mx*line.r) / line.m;
            ball.Y = (line.my*line.r) / line.m;


        }
        if (orb.isSelected)
        {
            XPos = GET_X_LPARAM(lParam);
            YPos = GET_Y_LPARAM(lParam);
            line.Mx = XPos - line.Xj;
            line.My = YPos - line.Yj;
            line.M = sqrt(line.Mx*line.Mx + line.My*line.My);
            orb.X = line.Xj + (line.Mx*line.R) / line.M;
            orb.Y = (line.My*line.R) / line.M;
        }

        break;
        /*! \brief Calculate the deflection angle and the initial energy to the left and right balls
        \code
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));
        \endcode
        */
    case WM_LBUTTONUP:
        ball.isSelected = false;
        orb.isSelected = false;
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));

        orb.cosA = ((orb.x - line.Xj)*(orb.X - line.Xj) + orb.y*orb.Y) / ((sqrt((orb.x - line.Xj)*(orb.x - line.Xj) + orb.y*orb.y))*(sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + orb.Y*orb.Y)));
        line.angle = acos(orb.cosA);
        line.angle1 = acos(orb.cosA);
        line.e = line.R * G *orb.m* (1 - cos(line.angle));

        break;
        InvalidateRect(hWnd, NULL, 1);
        break;
        /*! \brief Painting
        \detailed Double buffering
        \code
            case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);
        \endcode
        */

    case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);

        RECT rect;
        GetClientRect(hWnd, &amp;rect);
        width = rect.right;
        height = rect.bottom;
        backbuffDC = CreateCompatibleDC(hdc);

        backbuffer = CreateCompatibleBitmap(hdc, width, height);

        savedDC = SaveDC(backbuffDC);

        SelectObject(backbuffDC, backbuffer);

        /*! Painting of Window 
        \code
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);
        \endcode
        */
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);

        /*! Creating pen
        \code
            hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        \endcode
        */
        hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);

        /*! Painting  threads
        \code
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        \endcode
        */
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        MoveToEx(backbuffDC, line.Nx, line.Ny, NULL);
        LineTo(backbuffDC, balls.X, balls.Y);
        MoveToEx(backbuffDC, line.nx, line.ny, NULL);
        LineTo(backbuffDC, balls.x, balls.y);
        MoveToEx(backbuffDC, line.Xj, line.Yj, NULL);
        LineTo(backbuffDC, orb.X, orb.Y);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);
        hBrush = CreateSolidBrush(RGB(159, 156, 148));
        SelectObject(backbuffDC, hBrush);
        /*!If one of the selected ball - paint its outline in red
        \code
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        \endcode
        */
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        else
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(0, 0, 0));
        }

        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        /*! Painting  balls
        \code
                Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);

                \endcode
                */
        Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);
        Ellipse(backbuffDC, orb.X - SIZE, orb.Y - SIZE, orb.X + SIZE, orb.Y + SIZE);
        Ellipse(backbuffDC, balls.X - SIZE, balls.Y - SIZE, balls.X + SIZE, balls.Y + SIZE);
        Ellipse(backbuffDC, balls.x - SIZE, balls.y - SIZE, balls.x + SIZE, balls.y + SIZE);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);

        /*! Writing text
        \code
            wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        \endcode
        */
        WCHAR s[300];
        wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), m2);
        TextOut(backbuffDC, 0, 20, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l1);
        TextOut(backbuffDC, 0, 40, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l2);
        TextOut(backbuffDC, 0, 60, s, wcslen(s));
        BitBlt(hdc, 0, 0, width, height, backbuffDC, 0, 0, SRCCOPY);
        RestoreDC(backbuffDC, savedDC);
        DeleteObject(backbuffer);
        DeleteDC(backbuffDC);

        EndPaint(hWnd, &amp;ps);
        break;
        /*! Delete window
        \code
        case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
        \endcode*/
    case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
        break;
        return 0;
        }
    }
}
</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a42f2c18757afa24fe3c4f56856d24615">   38</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a42f2c18757afa24fe3c4f56856d24615">gs</a> = 0;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a3664255414aa2a7a7cf0bfa67d629c66">   39</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_source_8cpp.html#a3664255414aa2a7a7cf0bfa67d629c66">gl</a> = 0;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a60aaa7477d045e09b2425581c0b1f636">   40</a></span>&#160;WCHAR <a class="code" href="_source_8cpp.html#a60aaa7477d045e09b2425581c0b1f636">n</a>[30];</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="_source_8cpp.html#aa00c13e084ef8df7525c7413d94bbe3a">   44</a></span>&#160;HWND <a class="code" href="_source_8cpp.html#a45252151f20e3d536fbf5a7f426462a1">hEdit1</a>, <a class="code" href="_source_8cpp.html#a9f7ffef70a375023943d97d35e57121e">hEdit2</a>, <a class="code" href="_source_8cpp.html#ad44e379b15892a1bfe9c78e55315d6c2">hEdit3</a>, <a class="code" href="_source_8cpp.html#aa00c13e084ef8df7525c7413d94bbe3a">hEdit4</a>;<span class="comment">//инициализация окна</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="_source_8cpp.html#adb109c6980637ff9c9c2af2fef5d010b">   54</a></span>&#160;<a class="code" href="struct_t_ball.html">TBall</a> <a class="code" href="_source_8cpp.html#adb109c6980637ff9c9c2af2fef5d010b">ball</a>;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="_source_8cpp.html#aa77e75d089a61c2326286f7bbcba1a06">   55</a></span>&#160;<a class="code" href="struct_t_orb.html">TOrb</a> <a class="code" href="_source_8cpp.html#aa77e75d089a61c2326286f7bbcba1a06">orb</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a41eac2f6e01700bd1710b74c2d61db16">   56</a></span>&#160;<a class="code" href="struct_t_line.html">TLine</a> <a class="code" href="_source_8cpp.html#a41eac2f6e01700bd1710b74c2d61db16">line</a>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a5a2ecc71369b28dc72380cf3622b239a">   57</a></span>&#160;<a class="code" href="struct_t_balls.html">TBalls</a> <a class="code" href="_source_8cpp.html#a5a2ecc71369b28dc72380cf3622b239a">balls</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_source_8cpp.html#a21c2335e6df73b1864dd7563f6810caa">DoPhysics</a>(ULONGLONG dT);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_source_8cpp.html#a93ecb4242527b80e76b5e28209f67d2d">StartGame</a>();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943">   70</a></span>&#160;<span class="keywordtype">int</span> WINAPI <a class="code" href="_source_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943">WinMain</a>(HINSTANCE hInstance,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    HINSTANCE hPrevInstance,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    LPSTR lpCmdLine,</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">int</span> nCmdShow)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    WNDCLASSEX wcex;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    wcex.cbSize = <span class="keyword">sizeof</span>(WNDCLASSEX);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    wcex.style = CS_HREDRAW | CS_VREDRAW;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    wcex.lpfnWndProc = <a class="code" href="_source_8cpp.html#a9135ea2a0d6fce68ba3b858226a31a4f">WndProc</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    wcex.cbClsExtra = 0;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    wcex.cbWndExtra = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    wcex.hInstance = hInstance;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APPLICATION));</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    wcex.lpszMenuName = NULL;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    wcex.lpszClassName = szWindowClass;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_APPLICATION));</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (!RegisterClassEx(&amp;wcex))</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        MessageBox(NULL,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            _T(<span class="stringliteral">&quot;Call to RegisterClassEx failed!&quot;</span>),</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            _T(<span class="stringliteral">&quot;Win32 Guided Tour&quot;</span>),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            NULL);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="_source_8cpp.html#a44f41244c97693b2fbd5244bcb1e86ec">hInst</a> = hInstance;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    HWND hWnd = CreateWindow(</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        szWindowClass,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        szTitle,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        CW_USEDEFAULT, CW_USEDEFAULT,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        800, 600,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        NULL,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        NULL,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        hInstance,</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        NULL</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    );</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (!hWnd)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        MessageBox(NULL,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            _T(<span class="stringliteral">&quot;Call to CreateWindow failed!&quot;</span>),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            _T(<span class="stringliteral">&quot;Win32 Guided Tour&quot;</span>),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            NULL);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="_source_8cpp.html#a45252151f20e3d536fbf5a7f426462a1">hEdit1</a> = CreateWindowEx(WS_EX_CLIENTEDGE, _T(<span class="stringliteral">&quot;edit&quot;</span>), _T(<span class="stringliteral">&quot; &quot;</span>), WS_CHILD | WS_VISIBLE,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        150, 0, 40, 20, hWnd, (HMENU)<a class="code" href="_source_8cpp.html#ad123446cb35c803caf42a339fc842813">IDC_EDIT1</a>, hInstance, NULL);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="_source_8cpp.html#a9f7ffef70a375023943d97d35e57121e">hEdit2</a> = CreateWindowEx(WS_EX_CLIENTEDGE, _T(<span class="stringliteral">&quot;edit&quot;</span>), _T(<span class="stringliteral">&quot; &quot;</span>), WS_CHILD | WS_VISIBLE,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        160, 20, 40, 20, hWnd, (HMENU)<a class="code" href="_source_8cpp.html#a4aae7cdb86571102c3b4483889b88c6f">IDC_EDIT2</a>, hInstance, NULL);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="_source_8cpp.html#ad44e379b15892a1bfe9c78e55315d6c2">hEdit3</a> = CreateWindowEx(WS_EX_CLIENTEDGE, _T(<span class="stringliteral">&quot;edit&quot;</span>), _T(<span class="stringliteral">&quot; &quot;</span>), WS_CHILD | WS_VISIBLE,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        115, 40, 40, 20, hWnd, (HMENU)<a class="code" href="_source_8cpp.html#aab8e26a871c7d6001a506892afab2fe9">IDC_EDIT3</a>, hInstance, NULL);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="_source_8cpp.html#aa00c13e084ef8df7525c7413d94bbe3a">hEdit4</a> = CreateWindowEx(WS_EX_CLIENTEDGE, _T(<span class="stringliteral">&quot;edit&quot;</span>), _T(<span class="stringliteral">&quot; &quot;</span>), WS_CHILD | WS_VISIBLE,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        135, 60, 40, 20, hWnd, (HMENU)<a class="code" href="_source_8cpp.html#ab55c36acb8b720f0c14ee11beef21ca5">IDC_EDIT4</a>, hInstance, NULL);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    CreateWindowEx(0, _T(<span class="stringliteral">&quot;button&quot;</span>), _T(<span class="stringliteral">&quot;START&quot;</span>), WS_CHILD | WS_VISIBLE,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        35, 110, 80, 25, hWnd, (HMENU)<a class="code" href="_source_8cpp.html#acfb35c4efbc593430638b09db17f2870">IDC_BUTTON1</a>, hInstance, NULL);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    ShowWindow(hWnd,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        nCmdShow);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    UpdateWindow(hWnd);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    MSG msg;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    ULONGLONG prevTime = -1, curTime, dT;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Enter the infinite message loop</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">while</span> (TRUE)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">// Check to see if any messages are waiting in the queue</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">while</span> (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="comment">// Translate the message and dispatch it to WindowProc()</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            TranslateMessage(&amp;msg);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            DispatchMessage(&amp;msg);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// If the message is WM_QUIT, exit the while loop</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> (msg.message == WM_QUIT)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="comment">//расчёт времени       curTime = GetTickCount64();
        if (prevTime == -1)
            dT = 0;
        else dT = curTime - prevTime;
        prevTime = curTime;
        DoPhysics(dT);
        InvalidateRect(hWnd, NULL, 1);
    }

    return (int)msg.wParam;
}
/*! \brief Function StartGame
\detail  Declaration of vars */
void StartGame()

{
    orb.y = ball.y = balls.y = balls.Y = line.o;
    ball.x = line.p;
    ball.X = ball.x;
    ball.Y = ball.y;
    ball.isSelected = false;
    ball.vx = 0;
    ball.vy = 0;
    balls.X = ball.x + 2 * SIZE;
    line.Nx = balls.X;
    line.Ny = 0;

    balls.x = balls.X + 2 * SIZE;
    line.nx = balls.x;
    line.ny = 0;

    orb.x = balls.x + 2 * SIZE;
    orb.X = orb.x;
    orb.Y = orb.y;
    orb.isSelected = false;
    orb.vx = 0;
    orb.vy = 0;

    line.xj = ball.x;
    line.yj = 0;
    line.r = sqrt((ball.X - line.xj)*(ball.X - line.xj) + (ball.Y - line.yj)*(ball.Y - line.yj));

    line.Xj = orb.x;
    line.Yj = 0;
    line.R = sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + (orb.Y - line.Yj)*(orb.Y - line.Yj));

}
/*! \brief Function DoPhysics
\detail
The physical description of the work processes of the pendulum */
void DoPhysics(ULONGLONG dT)
{
    /*! \brief Start work */
    if (f == 1)
    {
        double dx = balls.X - ball.X;
        double dy = balls.Y - ball.Y;
        double DX = orb.X - balls.x;
        double DY = orb.Y - balls.y;

        /*!
        
        If the ball touches the adjacent,the opposite ball begins to move . 
        \code
        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
        if (line.E != 0)
        {
        line.angle1 = line.grad1;
        line.angle = line.angle1;
        line.e = line.E;
        line.E = 0;
        }
        }
        \endcode
        if the leftmost ball touches the adjacent ball and if the energy is not zero,the angle of the leftmost ball passed right fielder bowl and energy leftmost ball passed right fielder bowl
         */

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE * 2)
        {
            if (line.E != 0)
            {
                line.angle1 = line.grad1;
                line.angle = line.angle1;
                line.e = line.E;
                line.E = 0;
            }
        }
        /*! The same for rightmost ball */

        if (sqrt(DX*DX + DY*DY) &lt;= SIZE * 2)
        {
            if (line.e != 0)
            {

                line.grad1 = line.angle1;
                line.grad = line.grad1;
                line.E = line.e;
                line.e = 0;
            }
        }
        /*! Leftmost ball \code
        ball.a = -G*ball.m / line.r * sin(line.grad); - acceleration
        ball.vx += ball.a * ((double)dT / 100);- speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100); - the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));- energy calculation
        if ((line.Ep) &gt; line.E)- comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);-  angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);- Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);- X movement
        \endcode */
        ball.a = -G*ball.m / line.r * sin(line.grad);//acceleration
        ball.vx += ball.a * ((double)dT / 100);//speed
        line.grad += (ball.vx + ((double)dT / 100) * ball.a / 2)*((double)dT / 100);//the time variation of the angle
        line.Ep = line.r *G*ball.m * (1 - cos(line.grad));//energy calculation
        if ((line.Ep) &gt; line.E)//comparing original and modified energy in the process of motion 
        {
            line.grad = (line.grad &lt; 0 ? (-1)*line.grad : line.grad) * acos(1 - line.E / line.r / G);// angle change
            ball.vx = 0;
        }
        ball.a = -G*ball.m / line.r * sin(line.grad);
        ball.Y = line.r*sin(PI / 2 + line.grad);//Y movement
        ball.X = line.xj + line.r*cos(PI / 2 + line.grad);// X movement

     /*! The same for Rightmost ball */
        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.vx += orb.a * ((double)dT / 100);
        line.angle += (orb.vx + ((double)dT / 100) * orb.a / 2)*((double)dT / 100);
        line.ep = line.R *G*orb.m* (1 - cos(line.angle));
        if ((line.ep) &gt; line.e)
        {
            line.angle = (line.angle &lt; 0 ? (-1)*line.angle : line.angle) * acos(1 - line.e / line.R / G);
            orb.vx = 0;
        }

        orb.a = -G*orb.m / line.R * sin(line.angle);
        orb.Y = line.R*sin(PI / 2 - line.angle);
        orb.X = line.Xj + line.R*cos(PI / 2 - line.angle);

    }
}

LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    PAINTSTRUCT ps;
    HDC hdc;
    int savedDC;
    HDC backbuffDC;
    int width, height;
    HBITMAP backbuffer;
    HBRUSH hBrush;
    double xPos, yPos;
    double XPos, YPos;
    double dx, dy;
    double DX, DY;
    HPEN hPen, hOldPen;


    switch (message)
    {
        {
    case WM_COMMAND:
        switch (LOWORD(wParam))
        {
            /*! \brief after pushing &quot;Start&quot;
            \detail Reading and recording user input variables*/

        case IDC_BUTTON1:
            switch (HIWORD(wParam))
            {
            case BN_CLICKED:
                GetWindowTextA(hEdit1, massa11, 99);
                GetWindowTextA(hEdit2, massa22, 99);
                GetWindowTextA(hEdit3, dlina11, 99);
                GetWindowTextA(hEdit4, dlina22, 99);
                sscanf(massa11, &quot;%d&quot;, &amp;massa1);
                ball.m = massa1;
                sscanf(massa22, &quot;%d&quot;, &amp;massa2);
                orb.m = massa2;
                sscanf(dlina11, &quot;%d&quot;, &amp;dlina1);
                line.o = dlina1;
                sscanf(dlina22, &quot;%d&quot;, &amp;dlina2);
                line.p = dlina2;
                StartGame();
                break;
            }
            break;
        }
        break;
        /*! Mouse LeftButton:mouse position determination
        \code
            xPos = GET_X_LPARAM(lParam);
            \endcode
            */
    case WM_LBUTTONDOWN:
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        XPos = GET_X_LPARAM(lParam);
        YPos = GET_Y_LPARAM(lParam);

        dx = xPos - ball.X;
        dy = yPos - ball.Y;
        DX = XPos - orb.X;
        DY = YPos - orb.Y;

        if (sqrt(dx*dx + dy*dy) &lt;= SIZE)
        {
            ball.isSelected = true;

        }
        if (sqrt(DX*DX + DY*DY) &lt;= SIZE)
        {

            orb.isSelected = true;
        }
        break;
        /*! Mouse RightButton:start working pendulum*/

    case WM_RBUTTONDOWN:
        f = 1;
        break;

        InvalidateRect(hWnd, NULL, 1);

        /*! \brief Calculation of the position coordinates provided unchanging length of the thread to the left of the ball
        \code
        xPos = GET_X_LPARAM(lParam);
        yPos = GET_Y_LPARAM(lParam);
        double x = ball.x - line.xj;
        double X = ball.X - line.xj;
        line.mx = xPos - line.xj;
        line.my = yPos - line.yj;
        line.m = sqrt(line.mx*line.mx + line.my*line.my);
        ball.X = line.xj + (line.mx*line.r) / line.m;
        ball.Y = (line.my*line.r) / line.m;
        \endcode
        */
    case WM_MOUSEMOVE:
        if (ball.isSelected)
        {

            xPos = GET_X_LPARAM(lParam);
            yPos = GET_Y_LPARAM(lParam);
            double x = ball.x - line.xj;
            double X = ball.X - line.xj;
            line.mx = xPos - line.xj;
            line.my = yPos - line.yj;
            line.m = sqrt(line.mx*line.mx + line.my*line.my);
            ball.X = line.xj + (line.mx*line.r) / line.m;
            ball.Y = (line.my*line.r) / line.m;


        }
        if (orb.isSelected)
        {
            XPos = GET_X_LPARAM(lParam);
            YPos = GET_Y_LPARAM(lParam);
            line.Mx = XPos - line.Xj;
            line.My = YPos - line.Yj;
            line.M = sqrt(line.Mx*line.Mx + line.My*line.My);
            orb.X = line.Xj + (line.Mx*line.R) / line.M;
            orb.Y = (line.My*line.R) / line.M;
        }

        break;
        /*! \brief Calculate the deflection angle and the initial energy to the left and right balls
        \code
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));
        \endcode
        */
    case WM_LBUTTONUP:
        ball.isSelected = false;
        orb.isSelected = false;
        ball.cosA = ((ball.x - line.xj)*(ball.X - line.xj) + ball.y*ball.Y) / ((sqrt((ball.x - line.xj)*(ball.x - line.xj) + ball.y*ball.y))*(sqrt((ball.X - line.xj)*(ball.X - line.xj) + ball.Y*ball.Y)));
        line.grad = acos(ball.cosA);
        line.grad1 = acos(ball.cosA);
        line.E = line.r * G *ball.m* (1 - cos(line.grad));

        orb.cosA = ((orb.x - line.Xj)*(orb.X - line.Xj) + orb.y*orb.Y) / ((sqrt((orb.x - line.Xj)*(orb.x - line.Xj) + orb.y*orb.y))*(sqrt((orb.X - line.Xj)*(orb.X - line.Xj) + orb.Y*orb.Y)));
        line.angle = acos(orb.cosA);
        line.angle1 = acos(orb.cosA);
        line.e = line.R * G *orb.m* (1 - cos(line.angle));

        break;
        InvalidateRect(hWnd, NULL, 1);
        break;
        /*! \brief Painting
        \detailed Double buffering
        \code
            case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);
        \endcode
        */

    case WM_PAINT:

        hdc = BeginPaint(hWnd, &amp;ps);

        RECT rect;
        GetClientRect(hWnd, &amp;rect);
        width = rect.right;
        height = rect.bottom;
        backbuffDC = CreateCompatibleDC(hdc);

        backbuffer = CreateCompatibleBitmap(hdc, width, height);

        savedDC = SaveDC(backbuffDC);

        SelectObject(backbuffDC, backbuffer);

        /*! Painting of Window 
        \code
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);
        \endcode
        */
        hBrush = CreateSolidBrush(RGB(255, 255, 255));
        FillRect(backbuffDC, &amp;rect, hBrush);
        DeleteObject(hBrush);

        /*! Creating pen
        \code
            hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        \endcode
        */
        hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));
        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);

        /*! Painting  threads
        \code
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        \endcode
        */
        MoveToEx(backbuffDC, line.xj, line.yj, NULL);
        LineTo(backbuffDC, ball.X, ball.Y);
        MoveToEx(backbuffDC, line.Nx, line.Ny, NULL);
        LineTo(backbuffDC, balls.X, balls.Y);
        MoveToEx(backbuffDC, line.nx, line.ny, NULL);
        LineTo(backbuffDC, balls.x, balls.y);
        MoveToEx(backbuffDC, line.Xj, line.Yj, NULL);
        LineTo(backbuffDC, orb.X, orb.Y);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);
        hBrush = CreateSolidBrush(RGB(159, 156, 148));
        SelectObject(backbuffDC, hBrush);
        /*!If one of the selected ball - paint its outline in red
        \code
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        \endcode
        */
        if ((ball.isSelected) || (orb.isSelected))
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));
        }
        else
        {
            hPen = CreatePen(PS_SOLID, 1, RGB(0, 0, 0));
        }

        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);
        /*! Painting  balls
        \code
                Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);

                \endcode
                */
        Ellipse(backbuffDC, ball.X - SIZE, ball.Y - SIZE, ball.X + SIZE, ball.Y + SIZE);
        Ellipse(backbuffDC, orb.X - SIZE, orb.Y - SIZE, orb.X + SIZE, orb.Y + SIZE);
        Ellipse(backbuffDC, balls.X - SIZE, balls.Y - SIZE, balls.X + SIZE, balls.Y + SIZE);
        Ellipse(backbuffDC, balls.x - SIZE, balls.y - SIZE, balls.x + SIZE, balls.y + SIZE);
        SelectObject(backbuffDC, hOldPen);
        DeleteObject(hPen);

        /*! Writing text
        \code
            wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        \endcode
        */
        WCHAR s[300];
        wsprintf(s, _T(&quot; %s&quot;), m1);
        TextOut(backbuffDC, 0, 0, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), m2);
        TextOut(backbuffDC, 0, 20, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l1);
        TextOut(backbuffDC, 0, 40, s, wcslen(s));
        wsprintf(s, _T(&quot; %s&quot;), l2);
        TextOut(backbuffDC, 0, 60, s, wcslen(s));
        BitBlt(hdc, 0, 0, width, height, backbuffDC, 0, 0, SRCCOPY);
        RestoreDC(backbuffDC, savedDC);
        DeleteObject(backbuffer);
        DeleteDC(backbuffDC);

        EndPaint(hWnd, &amp;ps);
        break;
        /*! Delete window
        \code
        case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
        \endcode*/
    case WM_ERASEBKGND:
        return 1;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
        break;
        return 0;
        }
    }
}
</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        curTime = GetTickCount64();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (prevTime == -1)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            dT = 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">else</span> dT = curTime - prevTime;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        prevTime = curTime;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="_source_8cpp.html#a21c2335e6df73b1864dd7563f6810caa">DoPhysics</a>(dT);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        InvalidateRect(hWnd, NULL, 1);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)msg.wParam;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a93ecb4242527b80e76b5e28209f67d2d">  197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_source_8cpp.html#a93ecb4242527b80e76b5e28209f67d2d">StartGame</a>()</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    orb.<a class="code" href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">y</a> = ball.<a class="code" href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">y</a> = balls.<a class="code" href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">y</a> = balls.<a class="code" href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">Y</a> = line.<a class="code" href="struct_t_line.html#a88d56a89e928a0697bac94983d85add6">o</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> = line.<a class="code" href="struct_t_line.html#a7576901c40001af375677326b812c249">p</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> = ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> = ball.<a class="code" href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">y</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">isSelected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a429a653556c564a415601b57964a8e0d">vx</a> = 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    ball.<a class="code" href="struct_t_ball.html#a0a36025c8447c130be8b77a91e1bd476">vy</a> = 0;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a> = ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> + 2 * <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    line.<a class="code" href="struct_t_line.html#aff635601b467a1cadecf7453230e0150">Nx</a> = balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    line.<a class="code" href="struct_t_line.html#aa9ccd483e36e99d131211c4984a7b8a1">Ny</a> = 0;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a> = balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a> + 2 * <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    line.<a class="code" href="struct_t_line.html#ae7695cec53cabd0e348d0affa3d0dc23">nx</a> = balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    line.<a class="code" href="struct_t_line.html#ac5c0931f06ea11dd6469e3ad65aa2691">ny</a> = 0;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a> = balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a> + 2 * <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> = orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> = orb.<a class="code" href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">y</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    orb.<a class="code" href="struct_t_orb.html#a214671a833273799c76015814737675c">isSelected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    orb.<a class="code" href="struct_t_orb.html#a1b6b08b5c6cb06f363c2222fc85d73bb">vx</a> = 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    orb.<a class="code" href="struct_t_orb.html#ad420afe94f5017d1bb4b7b5ea5c9f0d4">vy</a> = 0;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a> = ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    line.<a class="code" href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">yj</a> = 0;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> = sqrt((ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>)*(ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>) + (ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> - line.<a class="code" href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">yj</a>)*(ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> - line.<a class="code" href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">yj</a>));</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a> = orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    line.<a class="code" href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">Yj</a> = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> = sqrt((orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>)*(orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>) + (orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> - line.<a class="code" href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">Yj</a>)*(orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> - line.<a class="code" href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">Yj</a>));</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a21c2335e6df73b1864dd7563f6810caa">  234</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_source_8cpp.html#a21c2335e6df73b1864dd7563f6810caa">DoPhysics</a>(ULONGLONG dT)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_source_8cpp.html#a362077c979b0bb65159c603270e40f70">f</a> == 1)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordtype">double</span> dx = balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a> - ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordtype">double</span> dy = balls.<a class="code" href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">Y</a> - ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">double</span> DX = orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">double</span> DY = orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> - balls.<a class="code" href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">y</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (sqrt(dx*dx + dy*dy) &lt;= <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a> * 2)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">if</span> (line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a> != 0)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                line.<a class="code" href="struct_t_line.html#aeaf0525718b4e2f35c3fa85bf9d825f1">angle1</a> = line.<a class="code" href="struct_t_line.html#ac7dc30f316dd032563630ad12b8758c4">grad1</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> = line.<a class="code" href="struct_t_line.html#aeaf0525718b4e2f35c3fa85bf9d825f1">angle1</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a> = line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a> = 0;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> (sqrt(DX*DX + DY*DY) &lt;= <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a> * 2)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">if</span> (line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a> != 0)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                line.<a class="code" href="struct_t_line.html#ac7dc30f316dd032563630ad12b8758c4">grad1</a> = line.<a class="code" href="struct_t_line.html#aeaf0525718b4e2f35c3fa85bf9d825f1">angle1</a>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> = line.<a class="code" href="struct_t_line.html#ac7dc30f316dd032563630ad12b8758c4">grad1</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a> = line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a> = 0;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a87f31454df166a1a7285fd57b845a6c7">a</a> = -<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*ball.<a class="code" href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">m</a> / line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> * sin(line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>);<span class="comment">//acceleration</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a429a653556c564a415601b57964a8e0d">vx</a> += ball.<a class="code" href="struct_t_ball.html#a87f31454df166a1a7285fd57b845a6c7">a</a> * ((double)dT / 100);<span class="comment">//speed</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> += (ball.<a class="code" href="struct_t_ball.html#a429a653556c564a415601b57964a8e0d">vx</a> + ((double)dT / 100) * ball.<a class="code" href="struct_t_ball.html#a87f31454df166a1a7285fd57b845a6c7">a</a> / 2)*((<span class="keywordtype">double</span>)dT / 100);<span class="comment">//the time variation of the angle</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        line.<a class="code" href="struct_t_line.html#ae6d4cad463dff99869a6497f4a8c7c07">Ep</a> = line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> *<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*ball.<a class="code" href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">m</a> * (1 - cos(line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>));<span class="comment">//energy calculation</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> ((line.<a class="code" href="struct_t_line.html#ae6d4cad463dff99869a6497f4a8c7c07">Ep</a>) &gt; line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a>)<span class="comment">//comparing original and modified energy in the process of motion </span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> = (line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> &lt; 0 ? (-1)*line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> : line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>) * acos(1 - line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a> / line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> / <a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>);<span class="comment">// angle change</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            ball.<a class="code" href="struct_t_ball.html#a429a653556c564a415601b57964a8e0d">vx</a> = 0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a87f31454df166a1a7285fd57b845a6c7">a</a> = -<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*ball.<a class="code" href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">m</a> / line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> * sin(line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> = line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a>*sin(<a class="code" href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">PI</a> / 2 + line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>);<span class="comment">//Y movement</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> = line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a> + line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a>*cos(<a class="code" href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">PI</a> / 2 + line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>);<span class="comment">// X movement</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        orb.<a class="code" href="struct_t_orb.html#a6026cc993c782f25b346ad7cac4c60d1">a</a> = -<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*orb.<a class="code" href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">m</a> / line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> * sin(line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        orb.<a class="code" href="struct_t_orb.html#a1b6b08b5c6cb06f363c2222fc85d73bb">vx</a> += orb.<a class="code" href="struct_t_orb.html#a6026cc993c782f25b346ad7cac4c60d1">a</a> * ((double)dT / 100);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> += (orb.<a class="code" href="struct_t_orb.html#a1b6b08b5c6cb06f363c2222fc85d73bb">vx</a> + ((double)dT / 100) * orb.<a class="code" href="struct_t_orb.html#a6026cc993c782f25b346ad7cac4c60d1">a</a> / 2)*((<span class="keywordtype">double</span>)dT / 100);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        line.<a class="code" href="struct_t_line.html#a9794359e3b40f1c464d412329b8608b7">ep</a> = line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> *<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*orb.<a class="code" href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">m</a>* (1 - cos(line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span> ((line.<a class="code" href="struct_t_line.html#a9794359e3b40f1c464d412329b8608b7">ep</a>) &gt; line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a>)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> = (line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> &lt; 0 ? (-1)*line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> : line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>) * acos(1 - line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a> / line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> / <a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            orb.<a class="code" href="struct_t_orb.html#a1b6b08b5c6cb06f363c2222fc85d73bb">vx</a> = 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        orb.<a class="code" href="struct_t_orb.html#a6026cc993c782f25b346ad7cac4c60d1">a</a> = -<a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>*orb.<a class="code" href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">m</a> / line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> * sin(line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> = line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a>*sin(<a class="code" href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">PI</a> / 2 - line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> = line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a> + line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a>*cos(<a class="code" href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">PI</a> / 2 - line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="_source_8cpp.html#a9135ea2a0d6fce68ba3b858226a31a4f">  330</a></span>&#160;LRESULT CALLBACK <a class="code" href="_source_8cpp.html#a9135ea2a0d6fce68ba3b858226a31a4f">WndProc</a>(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    PAINTSTRUCT ps;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    HDC hdc;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">int</span> savedDC;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    HDC backbuffDC;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">int</span> width, height;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    HBITMAP backbuffer;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    HBRUSH hBrush;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">double</span> xPos, yPos;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">double</span> XPos, YPos;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">double</span> dx, dy;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">double</span> DX, DY;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    HPEN hPen, hOldPen;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">switch</span> (message)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">case</span> WM_COMMAND:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">switch</span> (LOWORD(wParam))</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_source_8cpp.html#acfb35c4efbc593430638b09db17f2870">IDC_BUTTON1</a>:</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">switch</span> (HIWORD(wParam))</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">case</span> BN_CLICKED:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                GetWindowTextA(<a class="code" href="_source_8cpp.html#a45252151f20e3d536fbf5a7f426462a1">hEdit1</a>, <a class="code" href="_source_8cpp.html#a279c9524fbef380a1551f708f3618c51">massa11</a>, 99);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                GetWindowTextA(<a class="code" href="_source_8cpp.html#a9f7ffef70a375023943d97d35e57121e">hEdit2</a>, <a class="code" href="_source_8cpp.html#a2ae6dc2487a03c3a8dbbcbeefa5ea0b2">massa22</a>, 99);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                GetWindowTextA(<a class="code" href="_source_8cpp.html#ad44e379b15892a1bfe9c78e55315d6c2">hEdit3</a>, <a class="code" href="_source_8cpp.html#aded308f4d62e6d6909c56c2fe517b743">dlina11</a>, 99);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                GetWindowTextA(<a class="code" href="_source_8cpp.html#aa00c13e084ef8df7525c7413d94bbe3a">hEdit4</a>, <a class="code" href="_source_8cpp.html#aa38390772308d072ba19fc15998caaa1">dlina22</a>, 99);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                sscanf(<a class="code" href="_source_8cpp.html#a279c9524fbef380a1551f708f3618c51">massa11</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="_source_8cpp.html#a8a5efd63cd926d42b6f7657da5b6a2cd">massa1</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                ball.<a class="code" href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">m</a> = <a class="code" href="_source_8cpp.html#a8a5efd63cd926d42b6f7657da5b6a2cd">massa1</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                sscanf(<a class="code" href="_source_8cpp.html#a2ae6dc2487a03c3a8dbbcbeefa5ea0b2">massa22</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="_source_8cpp.html#a3469eb06585f3176bd1ea6edd1a3d9b5">massa2</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                orb.<a class="code" href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">m</a> = <a class="code" href="_source_8cpp.html#a3469eb06585f3176bd1ea6edd1a3d9b5">massa2</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                sscanf(<a class="code" href="_source_8cpp.html#aded308f4d62e6d6909c56c2fe517b743">dlina11</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="_source_8cpp.html#a346ee155a202f3ce33386fb21ca17aa3">dlina1</a>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                line.<a class="code" href="struct_t_line.html#a88d56a89e928a0697bac94983d85add6">o</a> = <a class="code" href="_source_8cpp.html#a346ee155a202f3ce33386fb21ca17aa3">dlina1</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                sscanf(<a class="code" href="_source_8cpp.html#aa38390772308d072ba19fc15998caaa1">dlina22</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="_source_8cpp.html#ab8c23db2fceca122e94359bebe25d9ac">dlina2</a>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                line.<a class="code" href="struct_t_line.html#a7576901c40001af375677326b812c249">p</a> = <a class="code" href="_source_8cpp.html#ab8c23db2fceca122e94359bebe25d9ac">dlina2</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="_source_8cpp.html#a93ecb4242527b80e76b5e28209f67d2d">StartGame</a>();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">case</span> WM_LBUTTONDOWN:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        xPos = GET_X_LPARAM(lParam);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        yPos = GET_Y_LPARAM(lParam);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        XPos = GET_X_LPARAM(lParam);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        YPos = GET_Y_LPARAM(lParam);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        dx = xPos - ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        dy = yPos - ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        DX = XPos - orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        DY = YPos - orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span> (sqrt(dx*dx + dy*dy) &lt;= <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            ball.<a class="code" href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">isSelected</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">if</span> (sqrt(DX*DX + DY*DY) &lt;= <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            orb.<a class="code" href="struct_t_orb.html#a214671a833273799c76015814737675c">isSelected</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">case</span> WM_RBUTTONDOWN:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="_source_8cpp.html#a362077c979b0bb65159c603270e40f70">f</a> = 1;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        InvalidateRect(hWnd, NULL, 1);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">case</span> WM_MOUSEMOVE:</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> (ball.<a class="code" href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">isSelected</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            xPos = GET_X_LPARAM(lParam);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            yPos = GET_Y_LPARAM(lParam);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordtype">double</span> x = ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordtype">double</span> X = ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            line.<a class="code" href="struct_t_line.html#a911c824e201c3a1318087345166ac2ed">mx</a> = xPos - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            line.<a class="code" href="struct_t_line.html#a981f22cc5fb78dbae695435c6b5ab124">my</a> = yPos - line.<a class="code" href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">yj</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            line.<a class="code" href="struct_t_line.html#a8feda251755e6bea7022a037ff662172">m</a> = sqrt(line.<a class="code" href="struct_t_line.html#a911c824e201c3a1318087345166ac2ed">mx</a>*line.<a class="code" href="struct_t_line.html#a911c824e201c3a1318087345166ac2ed">mx</a> + line.<a class="code" href="struct_t_line.html#a981f22cc5fb78dbae695435c6b5ab124">my</a>*line.<a class="code" href="struct_t_line.html#a981f22cc5fb78dbae695435c6b5ab124">my</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> = line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a> + (line.<a class="code" href="struct_t_line.html#a911c824e201c3a1318087345166ac2ed">mx</a>*line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a>) / line.<a class="code" href="struct_t_line.html#a8feda251755e6bea7022a037ff662172">m</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> = (line.<a class="code" href="struct_t_line.html#a981f22cc5fb78dbae695435c6b5ab124">my</a>*line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a>) / line.<a class="code" href="struct_t_line.html#a8feda251755e6bea7022a037ff662172">m</a>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span> (orb.<a class="code" href="struct_t_orb.html#a214671a833273799c76015814737675c">isSelected</a>)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            XPos = GET_X_LPARAM(lParam);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            YPos = GET_Y_LPARAM(lParam);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            line.<a class="code" href="struct_t_line.html#a38152c9af5b26a1537e743dadb354a8b">Mx</a> = XPos - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            line.<a class="code" href="struct_t_line.html#addf4498e0a1d36fa358821a587f189b2">My</a> = YPos - line.<a class="code" href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">Yj</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            line.<a class="code" href="struct_t_line.html#a29a82483b897aee6aa64bfa46e74af57">M</a> = sqrt(line.<a class="code" href="struct_t_line.html#a38152c9af5b26a1537e743dadb354a8b">Mx</a>*line.<a class="code" href="struct_t_line.html#a38152c9af5b26a1537e743dadb354a8b">Mx</a> + line.<a class="code" href="struct_t_line.html#addf4498e0a1d36fa358821a587f189b2">My</a>*line.<a class="code" href="struct_t_line.html#addf4498e0a1d36fa358821a587f189b2">My</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> = line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a> + (line.<a class="code" href="struct_t_line.html#a38152c9af5b26a1537e743dadb354a8b">Mx</a>*line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a>) / line.<a class="code" href="struct_t_line.html#a29a82483b897aee6aa64bfa46e74af57">M</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> = (line.<a class="code" href="struct_t_line.html#addf4498e0a1d36fa358821a587f189b2">My</a>*line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a>) / line.<a class="code" href="struct_t_line.html#a29a82483b897aee6aa64bfa46e74af57">M</a>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">case</span> WM_LBUTTONUP:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">isSelected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        orb.<a class="code" href="struct_t_orb.html#a214671a833273799c76015814737675c">isSelected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        ball.<a class="code" href="struct_t_ball.html#a8b3cfd8d7c8f075d29bed51d9d98163a">cosA</a> = ((ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>)*(ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>) + ball.<a class="code" href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">y</a>*ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>) / ((sqrt((ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>)*(ball.<a class="code" href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">x</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>) + ball.<a class="code" href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">y</a>*ball.<a class="code" href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">y</a>))*(sqrt((ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>)*(ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>) + ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>*ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>)));</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a> = acos(ball.<a class="code" href="struct_t_ball.html#a8b3cfd8d7c8f075d29bed51d9d98163a">cosA</a>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        line.<a class="code" href="struct_t_line.html#ac7dc30f316dd032563630ad12b8758c4">grad1</a> = acos(ball.<a class="code" href="struct_t_ball.html#a8b3cfd8d7c8f075d29bed51d9d98163a">cosA</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        line.<a class="code" href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">E</a> = line.<a class="code" href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">r</a> * <a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a> *ball.<a class="code" href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">m</a>* (1 - cos(line.<a class="code" href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">grad</a>));</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        orb.<a class="code" href="struct_t_orb.html#ad62955acf250aef603f2e403f63f3dba">cosA</a> = ((orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>)*(orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>) + orb.<a class="code" href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">y</a>*orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a>) / ((sqrt((orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>)*(orb.<a class="code" href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">x</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>) + orb.<a class="code" href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">y</a>*orb.<a class="code" href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">y</a>))*(sqrt((orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>)*(orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>) + orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a>*orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a>)));</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a> = acos(orb.<a class="code" href="struct_t_orb.html#ad62955acf250aef603f2e403f63f3dba">cosA</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        line.<a class="code" href="struct_t_line.html#aeaf0525718b4e2f35c3fa85bf9d825f1">angle1</a> = acos(orb.<a class="code" href="struct_t_orb.html#ad62955acf250aef603f2e403f63f3dba">cosA</a>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        line.<a class="code" href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">e</a> = line.<a class="code" href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">R</a> * <a class="code" href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a> *orb.<a class="code" href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">m</a>* (1 - cos(line.<a class="code" href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">angle</a>));</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        InvalidateRect(hWnd, NULL, 1);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">case</span> WM_PAINT:</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        hdc = BeginPaint(hWnd, &amp;ps);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        RECT rect;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        GetClientRect(hWnd, &amp;rect);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        width = rect.right;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        height = rect.bottom;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        backbuffDC = CreateCompatibleDC(hdc);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        backbuffer = CreateCompatibleBitmap(hdc, width, height);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        savedDC = SaveDC(backbuffDC);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        SelectObject(backbuffDC, backbuffer);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        hBrush = CreateSolidBrush(RGB(255, 255, 255));</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        FillRect(backbuffDC, &amp;rect, hBrush);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        DeleteObject(hBrush);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        hPen = CreatePen(PS_SOLID, 3, RGB(0, 100, 100));</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        MoveToEx(backbuffDC, line.<a class="code" href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">xj</a>, line.<a class="code" href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">yj</a>, NULL);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        LineTo(backbuffDC, ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a>, ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        MoveToEx(backbuffDC, line.<a class="code" href="struct_t_line.html#aff635601b467a1cadecf7453230e0150">Nx</a>, line.<a class="code" href="struct_t_line.html#aa9ccd483e36e99d131211c4984a7b8a1">Ny</a>, NULL);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        LineTo(backbuffDC, balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a>, balls.<a class="code" href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">Y</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        MoveToEx(backbuffDC, line.<a class="code" href="struct_t_line.html#ae7695cec53cabd0e348d0affa3d0dc23">nx</a>, line.<a class="code" href="struct_t_line.html#ac5c0931f06ea11dd6469e3ad65aa2691">ny</a>, NULL);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        LineTo(backbuffDC, balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a>, balls.<a class="code" href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">y</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        MoveToEx(backbuffDC, line.<a class="code" href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">Xj</a>, line.<a class="code" href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">Yj</a>, NULL);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        LineTo(backbuffDC, orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a>, orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        SelectObject(backbuffDC, hOldPen);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        DeleteObject(hPen);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        hBrush = CreateSolidBrush(RGB(159, 156, 148));</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        SelectObject(backbuffDC, hBrush);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> ((ball.<a class="code" href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">isSelected</a>) || (orb.<a class="code" href="struct_t_orb.html#a214671a833273799c76015814737675c">isSelected</a>))</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            hPen = CreatePen(PS_SOLID, 1, RGB(255, 0, 0));</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            hPen = CreatePen(PS_SOLID, 1, RGB(0, 0, 0));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        hOldPen = (HPEN)SelectObject(backbuffDC, hPen);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        Ellipse(backbuffDC, ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, ball.<a class="code" href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">X</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, ball.<a class="code" href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">Y</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        Ellipse(backbuffDC, orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, orb.<a class="code" href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">X</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, orb.<a class="code" href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">Y</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        Ellipse(backbuffDC, balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">Y</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">X</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">Y</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        Ellipse(backbuffDC, balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">y</a> - <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">x</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>, balls.<a class="code" href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">y</a> + <a class="code" href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        SelectObject(backbuffDC, hOldPen);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        DeleteObject(hPen);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        WCHAR s[300];</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        wsprintf(s, _T(<span class="stringliteral">&quot; %s&quot;</span>), <a class="code" href="_source_8cpp.html#a8ba4569a925a71b233cc3e8b17b82477">m1</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        TextOut(backbuffDC, 0, 0, s, wcslen(s));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        wsprintf(s, _T(<span class="stringliteral">&quot; %s&quot;</span>), <a class="code" href="_source_8cpp.html#afd7e823282038e21ca06fc9cda64c6cb">m2</a>);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        TextOut(backbuffDC, 0, 20, s, wcslen(s));</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        wsprintf(s, _T(<span class="stringliteral">&quot; %s&quot;</span>), <a class="code" href="_source_8cpp.html#a5c7547a984b320d5b688780223cb12dd">l1</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        TextOut(backbuffDC, 0, 40, s, wcslen(s));</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        wsprintf(s, _T(<span class="stringliteral">&quot; %s&quot;</span>), <a class="code" href="_source_8cpp.html#a45d80090df4752151d6f001edecb9ef8">l2</a>);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        TextOut(backbuffDC, 0, 60, s, wcslen(s));</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        BitBlt(hdc, 0, 0, width, height, backbuffDC, 0, 0, SRCCOPY);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        RestoreDC(backbuffDC, savedDC);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        DeleteObject(backbuffer);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        DeleteDC(backbuffDC);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        EndPaint(hWnd, &amp;ps);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">case</span> WM_ERASEBKGND:</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">case</span> WM_DESTROY:</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        PostQuitMessage(0);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">return</span> DefWindowProc(hWnd, message, wParam, lParam);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="ttc" id="_source_8cpp_html_ab55c36acb8b720f0c14ee11beef21ca5"><div class="ttname"><a href="_source_8cpp.html#ab55c36acb8b720f0c14ee11beef21ca5">IDC_EDIT4</a></div><div class="ttdeci">#define IDC_EDIT4</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00022">Source.cpp:22</a></div></div>
<div class="ttc" id="_source_8cpp_html_a41eac2f6e01700bd1710b74c2d61db16"><div class="ttname"><a href="_source_8cpp.html#a41eac2f6e01700bd1710b74c2d61db16">line</a></div><div class="ttdeci">TLine line</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00056">Source.cpp:56</a></div></div>
<div class="ttc" id="_source_8cpp_html_aa4c2a5552e9bc49b1816ff532f558c74"><div class="ttname"><a href="_source_8cpp.html#aa4c2a5552e9bc49b1816ff532f558c74">a</a></div><div class="ttdeci">int a</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00025">Source.cpp:25</a></div></div>
<div class="ttc" id="_source_8cpp_html_aab8e26a871c7d6001a506892afab2fe9"><div class="ttname"><a href="_source_8cpp.html#aab8e26a871c7d6001a506892afab2fe9">IDC_EDIT3</a></div><div class="ttdeci">#define IDC_EDIT3</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00021">Source.cpp:21</a></div></div>
<div class="ttc" id="_source_8cpp_html_ad123446cb35c803caf42a339fc842813"><div class="ttname"><a href="_source_8cpp.html#ad123446cb35c803caf42a339fc842813">IDC_EDIT1</a></div><div class="ttdeci">#define IDC_EDIT1</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00023">Source.cpp:23</a></div></div>
<div class="ttc" id="_source_8cpp_html_a9f7ffef70a375023943d97d35e57121e"><div class="ttname"><a href="_source_8cpp.html#a9f7ffef70a375023943d97d35e57121e">hEdit2</a></div><div class="ttdeci">HWND hEdit2</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00044">Source.cpp:44</a></div></div>
<div class="ttc" id="struct_t_line_html_a9794359e3b40f1c464d412329b8608b7"><div class="ttname"><a href="struct_t_line.html#a9794359e3b40f1c464d412329b8608b7">TLine::ep</a></div><div class="ttdeci">double ep</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00019">Model.h:19</a></div></div>
<div class="ttc" id="_source_8cpp_html_a45252151f20e3d536fbf5a7f426462a1"><div class="ttname"><a href="_source_8cpp.html#a45252151f20e3d536fbf5a7f426462a1">hEdit1</a></div><div class="ttdeci">HWND hEdit1</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00044">Source.cpp:44</a></div></div>
<div class="ttc" id="struct_t_line_html_a911c824e201c3a1318087345166ac2ed"><div class="ttname"><a href="struct_t_line.html#a911c824e201c3a1318087345166ac2ed">TLine::mx</a></div><div class="ttdeci">double mx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00015">Model.h:15</a></div></div>
<div class="ttc" id="struct_t_balls_html_a2e83eae4f41da86886d184ac92d61abf"><div class="ttname"><a href="struct_t_balls.html#a2e83eae4f41da86886d184ac92d61abf">TBalls::X</a></div><div class="ttdeci">double X</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00047">Model.h:47</a></div></div>
<div class="ttc" id="_model_8h_html"><div class="ttname"><a href="_model_8h.html">Model.h</a></div></div>
<div class="ttc" id="struct_t_line_html_aff635601b467a1cadecf7453230e0150"><div class="ttname"><a href="struct_t_line.html#aff635601b467a1cadecf7453230e0150">TLine::Nx</a></div><div class="ttdeci">double Nx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00016">Model.h:16</a></div></div>
<div class="ttc" id="_source_8cpp_html_a9135ea2a0d6fce68ba3b858226a31a4f"><div class="ttname"><a href="_source_8cpp.html#a9135ea2a0d6fce68ba3b858226a31a4f">WndProc</a></div><div class="ttdeci">LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM)</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00330">Source.cpp:330</a></div></div>
<div class="ttc" id="_source_8cpp_html_a44f41244c97693b2fbd5244bcb1e86ec"><div class="ttname"><a href="_source_8cpp.html#a44f41244c97693b2fbd5244bcb1e86ec">hInst</a></div><div class="ttdeci">HINSTANCE hInst</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00015">Source.cpp:15</a></div></div>
<div class="ttc" id="_source_8cpp_html_a346ee155a202f3ce33386fb21ca17aa3"><div class="ttname"><a href="_source_8cpp.html#a346ee155a202f3ce33386fb21ca17aa3">dlina1</a></div><div class="ttdeci">int dlina1</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00036">Source.cpp:36</a></div></div>
<div class="ttc" id="struct_t_line_html_ac5c0931f06ea11dd6469e3ad65aa2691"><div class="ttname"><a href="struct_t_line.html#ac5c0931f06ea11dd6469e3ad65aa2691">TLine::ny</a></div><div class="ttdeci">double ny</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00016">Model.h:16</a></div></div>
<div class="ttc" id="struct_t_line_html_a8feda251755e6bea7022a037ff662172"><div class="ttname"><a href="struct_t_line.html#a8feda251755e6bea7022a037ff662172">TLine::m</a></div><div class="ttdeci">double m</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00015">Model.h:15</a></div></div>
<div class="ttc" id="struct_t_orb_html_ac54e6d36ccd3fb7f7e46c08f8d6d0399"><div class="ttname"><a href="struct_t_orb.html#ac54e6d36ccd3fb7f7e46c08f8d6d0399">TOrb::m</a></div><div class="ttdeci">double m</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00039">Model.h:39</a></div></div>
<div class="ttc" id="struct_t_line_html_a5bead06ebfecd3b12bee1c9aaa19dcdc"><div class="ttname"><a href="struct_t_line.html#a5bead06ebfecd3b12bee1c9aaa19dcdc">TLine::e</a></div><div class="ttdeci">double e</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00019">Model.h:19</a></div></div>
<div class="ttc" id="_source_8cpp_html_a3469eb06585f3176bd1ea6edd1a3d9b5"><div class="ttname"><a href="_source_8cpp.html#a3469eb06585f3176bd1ea6edd1a3d9b5">massa2</a></div><div class="ttdeci">int massa2</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00035">Source.cpp:35</a></div></div>
<div class="ttc" id="_source_8cpp_html_adb109c6980637ff9c9c2af2fef5d010b"><div class="ttname"><a href="_source_8cpp.html#adb109c6980637ff9c9c2af2fef5d010b">ball</a></div><div class="ttdeci">TBall ball</div><div class="ttdoc">Declaration structures. </div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00054">Source.cpp:54</a></div></div>
<div class="ttc" id="_source_8cpp_html_a8a5efd63cd926d42b6f7657da5b6a2cd"><div class="ttname"><a href="_source_8cpp.html#a8a5efd63cd926d42b6f7657da5b6a2cd">massa1</a></div><div class="ttdeci">int massa1</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00034">Source.cpp:34</a></div></div>
<div class="ttc" id="_source_8cpp_html_ab8c23db2fceca122e94359bebe25d9ac"><div class="ttname"><a href="_source_8cpp.html#ab8c23db2fceca122e94359bebe25d9ac">dlina2</a></div><div class="ttdeci">int dlina2</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00037">Source.cpp:37</a></div></div>
<div class="ttc" id="struct_t_orb_html"><div class="ttname"><a href="struct_t_orb.html">TOrb</a></div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00035">Model.h:35</a></div></div>
<div class="ttc" id="struct_t_line_html_aef153402cbfa5f79c02dd2070cad0070"><div class="ttname"><a href="struct_t_line.html#aef153402cbfa5f79c02dd2070cad0070">TLine::Xj</a></div><div class="ttdeci">double Xj</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00011">Model.h:11</a></div></div>
<div class="ttc" id="struct_t_line_html_aeaf0525718b4e2f35c3fa85bf9d825f1"><div class="ttname"><a href="struct_t_line.html#aeaf0525718b4e2f35c3fa85bf9d825f1">TLine::angle1</a></div><div class="ttdeci">double angle1</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00018">Model.h:18</a></div></div>
<div class="ttc" id="struct_t_line_html_a38152c9af5b26a1537e743dadb354a8b"><div class="ttname"><a href="struct_t_line.html#a38152c9af5b26a1537e743dadb354a8b">TLine::Mx</a></div><div class="ttdeci">double Mx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00014">Model.h:14</a></div></div>
<div class="ttc" id="_source_8cpp_html_a70ed59adcb4159ac551058053e649640"><div class="ttname"><a href="_source_8cpp.html#a70ed59adcb4159ac551058053e649640">SIZE</a></div><div class="ttdeci">#define SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00024">Source.cpp:24</a></div></div>
<div class="ttc" id="struct_t_line_html_ac7dc30f316dd032563630ad12b8758c4"><div class="ttname"><a href="struct_t_line.html#ac7dc30f316dd032563630ad12b8758c4">TLine::grad1</a></div><div class="ttdeci">double grad1</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00017">Model.h:17</a></div></div>
<div class="ttc" id="_source_8cpp_html_afd7e823282038e21ca06fc9cda64c6cb"><div class="ttname"><a href="_source_8cpp.html#afd7e823282038e21ca06fc9cda64c6cb">m2</a></div><div class="ttdeci">TCHAR m2[]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00027">Source.cpp:27</a></div></div>
<div class="ttc" id="struct_t_orb_html_aedd663b0f6fb5fe8293448fbdf217d74"><div class="ttname"><a href="struct_t_orb.html#aedd663b0f6fb5fe8293448fbdf217d74">TOrb::Y</a></div><div class="ttdeci">double Y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00037">Model.h:37</a></div></div>
<div class="ttc" id="struct_t_orb_html_a1b6b08b5c6cb06f363c2222fc85d73bb"><div class="ttname"><a href="struct_t_orb.html#a1b6b08b5c6cb06f363c2222fc85d73bb">TOrb::vx</a></div><div class="ttdeci">double vx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00041">Model.h:41</a></div></div>
<div class="ttc" id="_source_8cpp_html_a598a3330b3c21701223ee0ca14316eca"><div class="ttname"><a href="_source_8cpp.html#a598a3330b3c21701223ee0ca14316eca">PI</a></div><div class="ttdeci">#define PI</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00018">Source.cpp:18</a></div></div>
<div class="ttc" id="struct_t_line_html_a9a970c04733b355893a97283d720fc9e"><div class="ttname"><a href="struct_t_line.html#a9a970c04733b355893a97283d720fc9e">TLine::angle</a></div><div class="ttdeci">double angle</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00018">Model.h:18</a></div></div>
<div class="ttc" id="struct_t_ball_html_a87f31454df166a1a7285fd57b845a6c7"><div class="ttname"><a href="struct_t_ball.html#a87f31454df166a1a7285fd57b845a6c7">TBall::a</a></div><div class="ttdeci">double a</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00029">Model.h:29</a></div></div>
<div class="ttc" id="struct_t_line_html_a279c2a44af277df7ec9834d5df0f2ed7"><div class="ttname"><a href="struct_t_line.html#a279c2a44af277df7ec9834d5df0f2ed7">TLine::E</a></div><div class="ttdeci">double E</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00019">Model.h:19</a></div></div>
<div class="ttc" id="struct_t_line_html_ae6d4cad463dff99869a6497f4a8c7c07"><div class="ttname"><a href="struct_t_line.html#ae6d4cad463dff99869a6497f4a8c7c07">TLine::Ep</a></div><div class="ttdeci">double Ep</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00019">Model.h:19</a></div></div>
<div class="ttc" id="_source_8cpp_html_a4aae7cdb86571102c3b4483889b88c6f"><div class="ttname"><a href="_source_8cpp.html#a4aae7cdb86571102c3b4483889b88c6f">IDC_EDIT2</a></div><div class="ttdeci">#define IDC_EDIT2</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00020">Source.cpp:20</a></div></div>
<div class="ttc" id="_source_8cpp_html_a3664255414aa2a7a7cf0bfa67d629c66"><div class="ttname"><a href="_source_8cpp.html#a3664255414aa2a7a7cf0bfa67d629c66">gl</a></div><div class="ttdeci">int gl</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00039">Source.cpp:39</a></div></div>
<div class="ttc" id="_source_8cpp_html_a93ecb4242527b80e76b5e28209f67d2d"><div class="ttname"><a href="_source_8cpp.html#a93ecb4242527b80e76b5e28209f67d2d">StartGame</a></div><div class="ttdeci">void StartGame()</div><div class="ttdoc">Function StartGame  Declaration of vars. </div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00197">Source.cpp:197</a></div></div>
<div class="ttc" id="_model_8h_html_aed9ea78689ecce0b7264c02c7f8a9a54"><div class="ttname"><a href="_model_8h.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a></div><div class="ttdeci">#define G</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00004">Model.h:4</a></div></div>
<div class="ttc" id="struct_t_line_html_ab500048aa537df65ef8890b610064ed9"><div class="ttname"><a href="struct_t_line.html#ab500048aa537df65ef8890b610064ed9">TLine::grad</a></div><div class="ttdeci">double grad</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00017">Model.h:17</a></div></div>
<div class="ttc" id="struct_t_ball_html_a853cd2399f85e89a99aed58b74a5ddb6"><div class="ttname"><a href="struct_t_ball.html#a853cd2399f85e89a99aed58b74a5ddb6">TBall::X</a></div><div class="ttdeci">double X</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00027">Model.h:27</a></div></div>
<div class="ttc" id="struct_t_ball_html_a77b831642bf1a74dc3e0a00e7b4c07e9"><div class="ttname"><a href="struct_t_ball.html#a77b831642bf1a74dc3e0a00e7b4c07e9">TBall::Y</a></div><div class="ttdeci">double Y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00027">Model.h:27</a></div></div>
<div class="ttc" id="_source_8cpp_html_a8ba4569a925a71b233cc3e8b17b82477"><div class="ttname"><a href="_source_8cpp.html#a8ba4569a925a71b233cc3e8b17b82477">m1</a></div><div class="ttdeci">TCHAR m1[]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00026">Source.cpp:26</a></div></div>
<div class="ttc" id="struct_t_ball_html"><div class="ttname"><a href="struct_t_ball.html">TBall</a></div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00025">Model.h:25</a></div></div>
<div class="ttc" id="struct_t_line_html_ae7695cec53cabd0e348d0affa3d0dc23"><div class="ttname"><a href="struct_t_line.html#ae7695cec53cabd0e348d0affa3d0dc23">TLine::nx</a></div><div class="ttdeci">double nx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00016">Model.h:16</a></div></div>
<div class="ttc" id="struct_t_ball_html_a9ff99c513be4cb8fa29a5c5d28d57705"><div class="ttname"><a href="struct_t_ball.html#a9ff99c513be4cb8fa29a5c5d28d57705">TBall::isSelected</a></div><div class="ttdeci">bool isSelected</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00032">Model.h:32</a></div></div>
<div class="ttc" id="_source_8cpp_html_aa77e75d089a61c2326286f7bbcba1a06"><div class="ttname"><a href="_source_8cpp.html#aa77e75d089a61c2326286f7bbcba1a06">orb</a></div><div class="ttdeci">TOrb orb</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00055">Source.cpp:55</a></div></div>
<div class="ttc" id="struct_t_orb_html_a214671a833273799c76015814737675c"><div class="ttname"><a href="struct_t_orb.html#a214671a833273799c76015814737675c">TOrb::isSelected</a></div><div class="ttdeci">bool isSelected</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00042">Model.h:42</a></div></div>
<div class="ttc" id="struct_t_balls_html_a80d2dd0e826870ee79621e956b58ca94"><div class="ttname"><a href="struct_t_balls.html#a80d2dd0e826870ee79621e956b58ca94">TBalls::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00048">Model.h:48</a></div></div>
<div class="ttc" id="struct_t_orb_html_ad62955acf250aef603f2e403f63f3dba"><div class="ttname"><a href="struct_t_orb.html#ad62955acf250aef603f2e403f63f3dba">TOrb::cosA</a></div><div class="ttdeci">double cosA</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00040">Model.h:40</a></div></div>
<div class="ttc" id="struct_t_balls_html_ab2b0fa31bbeafce34e594c621b1b777d"><div class="ttname"><a href="struct_t_balls.html#ab2b0fa31bbeafce34e594c621b1b777d">TBalls::Y</a></div><div class="ttdeci">double Y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00047">Model.h:47</a></div></div>
<div class="ttc" id="struct_t_line_html_addf4498e0a1d36fa358821a587f189b2"><div class="ttname"><a href="struct_t_line.html#addf4498e0a1d36fa358821a587f189b2">TLine::My</a></div><div class="ttdeci">double My</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00014">Model.h:14</a></div></div>
<div class="ttc" id="struct_t_ball_html_ab27f7124718212bc3628f6123bfc124a"><div class="ttname"><a href="struct_t_ball.html#ab27f7124718212bc3628f6123bfc124a">TBall::m</a></div><div class="ttdeci">double m</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00029">Model.h:29</a></div></div>
<div class="ttc" id="struct_t_ball_html_acda5c6db1db1f053b4a11ca7a71bf8a7"><div class="ttname"><a href="struct_t_ball.html#acda5c6db1db1f053b4a11ca7a71bf8a7">TBall::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00028">Model.h:28</a></div></div>
<div class="ttc" id="_source_8cpp_html_a42f2c18757afa24fe3c4f56856d24615"><div class="ttname"><a href="_source_8cpp.html#a42f2c18757afa24fe3c4f56856d24615">gs</a></div><div class="ttdeci">int gs</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00038">Source.cpp:38</a></div></div>
<div class="ttc" id="struct_t_orb_html_a46f1402ee7ac2df57028433f4a6e11c3"><div class="ttname"><a href="struct_t_orb.html#a46f1402ee7ac2df57028433f4a6e11c3">TOrb::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00038">Model.h:38</a></div></div>
<div class="ttc" id="struct_t_line_html_aec62cd86d8aa4cf7671230ec7d5f6c03"><div class="ttname"><a href="struct_t_line.html#aec62cd86d8aa4cf7671230ec7d5f6c03">TLine::yj</a></div><div class="ttdeci">double yj</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00011">Model.h:11</a></div></div>
<div class="ttc" id="_source_8cpp_html_aded308f4d62e6d6909c56c2fe517b743"><div class="ttname"><a href="_source_8cpp.html#aded308f4d62e6d6909c56c2fe517b743">dlina11</a></div><div class="ttdeci">char dlina11[100]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00032">Source.cpp:32</a></div></div>
<div class="ttc" id="struct_t_line_html_a42e426298d5c7c2787aea70276fa93ee"><div class="ttname"><a href="struct_t_line.html#a42e426298d5c7c2787aea70276fa93ee">TLine::R</a></div><div class="ttdeci">double R</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00012">Model.h:12</a></div></div>
<div class="ttc" id="struct_t_line_html_aa9ccd483e36e99d131211c4984a7b8a1"><div class="ttname"><a href="struct_t_line.html#aa9ccd483e36e99d131211c4984a7b8a1">TLine::Ny</a></div><div class="ttdeci">double Ny</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00016">Model.h:16</a></div></div>
<div class="ttc" id="struct_t_balls_html_ae1eb793682cf2a5b3cd65770e1d88c42"><div class="ttname"><a href="struct_t_balls.html#ae1eb793682cf2a5b3cd65770e1d88c42">TBalls::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00048">Model.h:48</a></div></div>
<div class="ttc" id="_source_8cpp_html_a45d80090df4752151d6f001edecb9ef8"><div class="ttname"><a href="_source_8cpp.html#a45d80090df4752151d6f001edecb9ef8">l2</a></div><div class="ttdeci">TCHAR l2[]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00029">Source.cpp:29</a></div></div>
<div class="ttc" id="_source_8cpp_html_a2ae6dc2487a03c3a8dbbcbeefa5ea0b2"><div class="ttname"><a href="_source_8cpp.html#a2ae6dc2487a03c3a8dbbcbeefa5ea0b2">massa22</a></div><div class="ttdeci">char massa22[100]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00031">Source.cpp:31</a></div></div>
<div class="ttc" id="struct_t_line_html_acbb0ea2d56b18a01458a781c6aae5515"><div class="ttname"><a href="struct_t_line.html#acbb0ea2d56b18a01458a781c6aae5515">TLine::xj</a></div><div class="ttdeci">double xj</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00011">Model.h:11</a></div></div>
<div class="ttc" id="struct_t_ball_html_a0a36025c8447c130be8b77a91e1bd476"><div class="ttname"><a href="struct_t_ball.html#a0a36025c8447c130be8b77a91e1bd476">TBall::vy</a></div><div class="ttdeci">double vy</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00031">Model.h:31</a></div></div>
<div class="ttc" id="struct_t_balls_html"><div class="ttname"><a href="struct_t_balls.html">TBalls</a></div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00045">Model.h:45</a></div></div>
<div class="ttc" id="struct_t_orb_html_ad420afe94f5017d1bb4b7b5ea5c9f0d4"><div class="ttname"><a href="struct_t_orb.html#ad420afe94f5017d1bb4b7b5ea5c9f0d4">TOrb::vy</a></div><div class="ttdeci">double vy</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00041">Model.h:41</a></div></div>
<div class="ttc" id="struct_t_line_html_a7576901c40001af375677326b812c249"><div class="ttname"><a href="struct_t_line.html#a7576901c40001af375677326b812c249">TLine::p</a></div><div class="ttdeci">double p</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00013">Model.h:13</a></div></div>
<div class="ttc" id="_source_8cpp_html_a279c9524fbef380a1551f708f3618c51"><div class="ttname"><a href="_source_8cpp.html#a279c9524fbef380a1551f708f3618c51">massa11</a></div><div class="ttdeci">char massa11[100]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00030">Source.cpp:30</a></div></div>
<div class="ttc" id="struct_t_orb_html_a1639dbe64d260a06470cfe6e3c5175b2"><div class="ttname"><a href="struct_t_orb.html#a1639dbe64d260a06470cfe6e3c5175b2">TOrb::X</a></div><div class="ttdeci">double X</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00037">Model.h:37</a></div></div>
<div class="ttc" id="_source_8cpp_html_a5c7547a984b320d5b688780223cb12dd"><div class="ttname"><a href="_source_8cpp.html#a5c7547a984b320d5b688780223cb12dd">l1</a></div><div class="ttdeci">TCHAR l1[]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00028">Source.cpp:28</a></div></div>
<div class="ttc" id="struct_t_line_html"><div class="ttname"><a href="struct_t_line.html">TLine</a></div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00009">Model.h:9</a></div></div>
<div class="ttc" id="_source_8cpp_html_a661c2abc03926acfaeb93b4ae7db4943"><div class="ttname"><a href="_source_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943">WinMain</a></div><div class="ttdeci">int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow)</div><div class="ttdoc">WinMain function. </div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00070">Source.cpp:70</a></div></div>
<div class="ttc" id="_source_8cpp_html_ad44e379b15892a1bfe9c78e55315d6c2"><div class="ttname"><a href="_source_8cpp.html#ad44e379b15892a1bfe9c78e55315d6c2">hEdit3</a></div><div class="ttdeci">HWND hEdit3</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00044">Source.cpp:44</a></div></div>
<div class="ttc" id="_source_8cpp_html_a362077c979b0bb65159c603270e40f70"><div class="ttname"><a href="_source_8cpp.html#a362077c979b0bb65159c603270e40f70">f</a></div><div class="ttdeci">int f</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00025">Source.cpp:25</a></div></div>
<div class="ttc" id="struct_t_orb_html_aac35fa4aecd9d854955a28cd1268f20e"><div class="ttname"><a href="struct_t_orb.html#aac35fa4aecd9d854955a28cd1268f20e">TOrb::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00038">Model.h:38</a></div></div>
<div class="ttc" id="struct_t_line_html_ab27252c31b72f33346586d11b0473fef"><div class="ttname"><a href="struct_t_line.html#ab27252c31b72f33346586d11b0473fef">TLine::r</a></div><div class="ttdeci">double r</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00012">Model.h:12</a></div></div>
<div class="ttc" id="struct_t_ball_html_a8b3cfd8d7c8f075d29bed51d9d98163a"><div class="ttname"><a href="struct_t_ball.html#a8b3cfd8d7c8f075d29bed51d9d98163a">TBall::cosA</a></div><div class="ttdeci">double cosA</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00030">Model.h:30</a></div></div>
<div class="ttc" id="_source_8cpp_html_aa00c13e084ef8df7525c7413d94bbe3a"><div class="ttname"><a href="_source_8cpp.html#aa00c13e084ef8df7525c7413d94bbe3a">hEdit4</a></div><div class="ttdeci">HWND hEdit4</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00044">Source.cpp:44</a></div></div>
<div class="ttc" id="_source_8cpp_html_acfb35c4efbc593430638b09db17f2870"><div class="ttname"><a href="_source_8cpp.html#acfb35c4efbc593430638b09db17f2870">IDC_BUTTON1</a></div><div class="ttdeci">#define IDC_BUTTON1</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00019">Source.cpp:19</a></div></div>
<div class="ttc" id="_source_8cpp_html_a21c2335e6df73b1864dd7563f6810caa"><div class="ttname"><a href="_source_8cpp.html#a21c2335e6df73b1864dd7563f6810caa">DoPhysics</a></div><div class="ttdeci">void DoPhysics(ULONGLONG dT)</div><div class="ttdoc">Declaration functions. </div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00234">Source.cpp:234</a></div></div>
<div class="ttc" id="_source_8cpp_html_a5a2ecc71369b28dc72380cf3622b239a"><div class="ttname"><a href="_source_8cpp.html#a5a2ecc71369b28dc72380cf3622b239a">balls</a></div><div class="ttdeci">TBalls balls</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00057">Source.cpp:57</a></div></div>
<div class="ttc" id="struct_t_line_html_aa93fab84fb2acfc6f61a6c4698ade395"><div class="ttname"><a href="struct_t_line.html#aa93fab84fb2acfc6f61a6c4698ade395">TLine::Yj</a></div><div class="ttdeci">double Yj</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00011">Model.h:11</a></div></div>
<div class="ttc" id="struct_t_line_html_a88d56a89e928a0697bac94983d85add6"><div class="ttname"><a href="struct_t_line.html#a88d56a89e928a0697bac94983d85add6">TLine::o</a></div><div class="ttdeci">double o</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00013">Model.h:13</a></div></div>
<div class="ttc" id="_source_8cpp_html_aa38390772308d072ba19fc15998caaa1"><div class="ttname"><a href="_source_8cpp.html#aa38390772308d072ba19fc15998caaa1">dlina22</a></div><div class="ttdeci">char dlina22[100]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00033">Source.cpp:33</a></div></div>
<div class="ttc" id="struct_t_line_html_a29a82483b897aee6aa64bfa46e74af57"><div class="ttname"><a href="struct_t_line.html#a29a82483b897aee6aa64bfa46e74af57">TLine::M</a></div><div class="ttdeci">double M</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00014">Model.h:14</a></div></div>
<div class="ttc" id="struct_t_ball_html_a6c2f8e2f3ca41aa3969446ca93aa7256"><div class="ttname"><a href="struct_t_ball.html#a6c2f8e2f3ca41aa3969446ca93aa7256">TBall::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00028">Model.h:28</a></div></div>
<div class="ttc" id="struct_t_ball_html_a429a653556c564a415601b57964a8e0d"><div class="ttname"><a href="struct_t_ball.html#a429a653556c564a415601b57964a8e0d">TBall::vx</a></div><div class="ttdeci">double vx</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00031">Model.h:31</a></div></div>
<div class="ttc" id="struct_t_line_html_a981f22cc5fb78dbae695435c6b5ab124"><div class="ttname"><a href="struct_t_line.html#a981f22cc5fb78dbae695435c6b5ab124">TLine::my</a></div><div class="ttdeci">double my</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00015">Model.h:15</a></div></div>
<div class="ttc" id="struct_t_orb_html_a6026cc993c782f25b346ad7cac4c60d1"><div class="ttname"><a href="struct_t_orb.html#a6026cc993c782f25b346ad7cac4c60d1">TOrb::a</a></div><div class="ttdeci">double a</div><div class="ttdef"><b>Definition:</b> <a href="_model_8h_source.html#l00039">Model.h:39</a></div></div>
<div class="ttc" id="_source_8cpp_html_a60aaa7477d045e09b2425581c0b1f636"><div class="ttname"><a href="_source_8cpp.html#a60aaa7477d045e09b2425581c0b1f636">n</a></div><div class="ttdeci">WCHAR n[30]</div><div class="ttdef"><b>Definition:</b> <a href="_source_8cpp_source.html#l00040">Source.cpp:40</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
